"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react/jsx-runtime"),t=require("react-redux"),o=require("@reduxjs/toolkit"),n=require("react"),r=require("ethers"),i=require("@socket.tech/ll-core"),l=require("@socket.tech/socket-v2-sdk"),s=require("swr"),a=require("react-feather"),d=require("@react-spring/web"),u=require("ethers/lib/utils");function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var v=c(s),f=function(){return f=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},f.apply(this,arguments)};function m(e,t,o,n){return new(o||(o=Promise))((function(r,i){function l(e){try{a(n.next(e))}catch(e){i(e)}}function s(e){try{a(n.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(l,s)}a((n=n.apply(e,t||[])).next())}))}function w(e,t){var o,n,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,n=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(r=l.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){l.label=i[1];break}if(6===i[0]&&l.label<r[1]){l.label=r[1],r=i;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(i);break}r[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function p(e,t,o){if(o||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}var x;!function(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===o&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}(':root{--socket-widget-accent-color:239,51,116;--socket-widget-on-accent-color:255,255,255;--socket-widget-primary-color:255,255,255;--socket-widget-secondary-color:241,245,249;--socket-widget-primary-text-color:0,0,0;--socket-widget-secondary-text-color:68,68,68;--socket-widget-outline-color:208,208,208;--socket-widget-interactive:241,245,249;--socket-widget-on-interactive:10,10,10;--socket-widget-font-family:system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"}.skt-w{--tw-border-opacity:1;--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;border-color:rgb(229 231 235/var(--tw-border-opacity));border-style:solid;border-width:0;box-sizing:border-box;line-height:1.15;margin:0;padding:0}.skt-w:disabled{cursor:default}.skt-w-container{font-family:var(--socket-widget-font-family)}.skt-w:after,.skt-w:before{border:0 solid #e5e7eb;border-image-outset:0;border-image-repeat:initial;border-image-slice:100%;border-image-source:none;border-image-width:1}.skt-w-input{border-width:0;color:inherit;font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;margin:0;outline-width:0;padding:0}.skt-w-button{background-color:transparent;background-image:none;cursor:pointer;text-transform:none}.skt-w-anchor{color:inherit;text-decoration:none}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::-webkit-backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.pointer-events-none{pointer-events:none}.visible{visibility:visible}.invisible{visibility:hidden}.absolute{position:absolute}.relative{position:relative}.-top-14{top:-3.5rem}.bottom-0{bottom:0}.top-10{top:2.5rem}.left-0{left:0}.-bottom-5{bottom:-1.25rem}.right-3{right:.75rem}.top-0{top:0}.left-3{left:.75rem}.top-1{top:.25rem}.z-10{z-index:10}.z-50{z-index:50}.my-2{margin-bottom:.5rem;margin-top:.5rem}.my-auto{margin-bottom:auto;margin-top:auto}.mt-3\\.5{margin-top:.875rem}.mt-3{margin-top:.75rem}.mt-6{margin-top:1.5rem}.ml-1\\.5{margin-left:.375rem}.ml-1{margin-left:.25rem}.mt-0\\.5{margin-top:.125rem}.mt-0{margin-top:0}.mr-2{margin-right:.5rem}.mt-1{margin-top:.25rem}.mb-3{margin-bottom:.75rem}.mt-2\\.5{margin-top:.625rem}.mt-2{margin-top:.5rem}.mr-1{margin-right:.25rem}.mb-2{margin-bottom:.5rem}.ml-2{margin-left:.5rem}.-mt-0\\.5{margin-top:-.125rem}.-mt-0{margin-top:0}.mr-3{margin-right:.75rem}.mt-\\[3px\\]{margin-top:3px}.mt-4{margin-top:1rem}.-ml-2{margin-left:-.5rem}.-mt-1{margin-top:-.25rem}.block{display:block}.flex{display:flex}.inline-flex{display:inline-flex}.h-\\[360px\\]{height:360px}.h-4{height:1rem}.h-5{height:1.25rem}.h-full{height:100%}.h-auto{height:auto}.h-14{height:3.5rem}.h-12{height:3rem}.h-6{height:1.5rem}.h-3{height:.75rem}.h-\\[18px\\]{height:18px}.h-7{height:1.75rem}.h-px{height:1px}.h-10{height:2.5rem}.h-8{height:2rem}.max-h-full{max-height:100%}.max-h-min{max-height:-webkit-min-content;max-height:-moz-min-content;max-height:min-content}.max-h-\\[150px\\]{max-height:150px}.w-\\[360px\\]{width:360px}.w-4{width:1rem}.w-5{width:1.25rem}.w-full{width:100%}.w-auto{width:auto}.w-5\\.5{width:1.375rem}.w-32{width:8rem}.w-6{width:1.5rem}.w-3{width:.75rem}.w-\\[18px\\]{width:18px}.w-28{width:7rem}.w-11{width:2.75rem}.w-px{width:1px}.w-10{width:2.5rem}.max-w-full{max-width:100%}.flex-1{flex:1 1 0%}.flex-auto{flex:1 1 auto}.flex-shrink-0,.shrink-0{flex-shrink:0}.flex-grow{flex-grow:1}.translate-x-5{--tw-translate-x:1.25rem}.translate-x-1,.translate-x-5{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-1{--tw-translate-x:0.25rem}.rotate-180{--tw-rotate:180deg}.rotate-0,.rotate-180{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-0{--tw-rotate:0deg}.-rotate-90{--tw-rotate:-90deg}.-rotate-90,.scale-75{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-75{--tw-scale-x:.75;--tw-scale-y:.75}@-webkit-keyframes spin{to{transform:rotate(1turn)}}@keyframes spin{to{transform:rotate(1turn)}}.animate-spin{-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite}.cursor-help{cursor:help}.cursor-pointer{cursor:pointer}.cursor-not-allowed{cursor:not-allowed}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-nowrap{flex-wrap:nowrap}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.justify-start{justify-content:flex-start}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1\\.5{gap:.375rem}.gap-1{gap:.25rem}.gap-3{gap:.75rem}.gap-2{gap:.5rem}.gap-8{gap:2rem}.gap-0\\.5{gap:.125rem}.gap-0{gap:0}.gap-4{gap:1rem}.gap-3\\.5{gap:.875rem}.gap-x-1\\.5{-moz-column-gap:.375rem;column-gap:.375rem}.gap-x-1{-moz-column-gap:.25rem;column-gap:.25rem}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.truncate{overflow:hidden;white-space:nowrap}.overflow-ellipsis,.text-ellipsis,.truncate{text-overflow:ellipsis}.whitespace-nowrap{white-space:nowrap}.rounded-2xl{border-radius:1rem}.rounded-full{border-radius:9999px}.border{border-width:1px}.border-\\[3px\\]{border-width:3px}.border-2{border-width:2px}.border-0{border-width:0}.border-b{border-bottom-width:1px}.border-none{border-style:none}.border-widget-outline{--tw-border-opacity:1;border-color:rgba(var(--socket-widget-outline-color),var(--tw-border-opacity))}.border-transparent{border-color:transparent}.border-widget-secondary-text{--tw-border-opacity:1;border-color:rgba(var(--socket-widget-secondary-text-color),var(--tw-border-opacity))}.border-widget-secondary-text\\/30{border-color:rgba(var(--socket-widget-secondary-text-color),.3)}.border-widget-secondary{--tw-border-opacity:1;border-color:rgba(var(--socket-widget-secondary-color),var(--tw-border-opacity))}.border-widget-accent{--tw-border-opacity:1;border-color:rgba(var(--socket-widget-accent-color),var(--tw-border-opacity))}.border-widget-primary{--tw-border-opacity:1;border-color:rgba(var(--socket-widget-primary-color),var(--tw-border-opacity))}.border-t-widget-accent\\/100{border-top-color:rgba(var(--socket-widget-accent-color),1)}.border-opacity-10{--tw-border-opacity:0.1}.border-opacity-40{--tw-border-opacity:0.4}.bg-gray-100{--tw-bg-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity))}.bg-widget-accent{--tw-bg-opacity:1;background-color:rgba(var(--socket-widget-accent-color),var(--tw-bg-opacity))}.bg-widget-secondary{--tw-bg-opacity:1;background-color:rgba(var(--socket-widget-secondary-color),var(--tw-bg-opacity))}.bg-widget-primary{--tw-bg-opacity:1;background-color:rgba(var(--socket-widget-primary-color),var(--tw-bg-opacity))}.bg-gray-400{--tw-bg-opacity:1;background-color:rgb(156 163 175/var(--tw-bg-opacity))}.bg-transparent{background-color:transparent}.bg-widget-interactive{--tw-bg-opacity:1;background-color:rgba(var(--socket-widget-interactive),var(--tw-bg-opacity))}.bg-widget-onAccent{--tw-bg-opacity:1;background-color:rgba(var(--socket-widget-on-accent-color),var(--tw-bg-opacity))}.bg-red-500{background-color:rgb(239 68 68/var(--tw-bg-opacity))}.bg-black,.bg-red-500{--tw-bg-opacity:1}.bg-black{background-color:rgb(0 0 0/var(--tw-bg-opacity))}.bg-black\\/90{background-color:rgba(0,0,0,.9)}.bg-widget-secondary-text{--tw-bg-opacity:1;background-color:rgba(var(--socket-widget-secondary-text-color),var(--tw-bg-opacity))}.bg-opacity-90{--tw-bg-opacity:0.9}.bg-opacity-20{--tw-bg-opacity:0.2}.bg-opacity-80{--tw-bg-opacity:0.8}.bg-opacity-10{--tw-bg-opacity:0.1}.bg-opacity-40{--tw-bg-opacity:0.4}.object-cover{-o-object-fit:cover;object-fit:cover}.p-3{padding:.75rem}.p-1{padding:.25rem}.p-10{padding:2.5rem}.p-1\\.5{padding:.375rem}.p-2{padding:.5rem}.p-0\\.5{padding:.125rem}.p-0{padding:0}.p-4{padding:1rem}.px-2{padding-left:.5rem;padding-right:.5rem}.py-0\\.5{padding-bottom:.125rem;padding-top:.125rem}.py-0{padding-bottom:0;padding-top:0}.px-3{padding-left:.75rem;padding-right:.75rem}.py-2{padding-bottom:.5rem;padding-top:.5rem}.py-3{padding-bottom:.75rem;padding-top:.75rem}.px-1\\.5{padding-left:.375rem;padding-right:.375rem}.px-1{padding-left:.25rem;padding-right:.25rem}.px-3\\.5{padding-left:.875rem;padding-right:.875rem}.py-1\\.5{padding-bottom:.375rem;padding-top:.375rem}.py-1{padding-bottom:.25rem;padding-top:.25rem}.py-4{padding-bottom:1rem;padding-top:1rem}.pl-4{padding-left:1rem}.pr-3{padding-right:.75rem}.pt-2\\.5{padding-top:.625rem}.pb-3\\.5{padding-bottom:.875rem}.pt-2{padding-top:.5rem}.pb-3{padding-bottom:.75rem}.pl-2{padding-left:.5rem}.pr-7{padding-right:1.75rem}.pb-\\[1\\.125rem\\]{padding-bottom:1.125rem}.pl-2\\.5{padding-left:.625rem}.pr-2{padding-right:.5rem}.pt-1{padding-top:.25rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-\\[10px\\]{font-size:10px}.font-medium{font-weight:500}.font-normal{font-weight:400}.uppercase{text-transform:uppercase}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity))}.text-widget-accent{--tw-text-opacity:1;color:rgba(var(--socket-widget-accent-color),var(--tw-text-opacity))}.text-widget-secondary{--tw-text-opacity:1;color:rgba(var(--socket-widget-secondary-text-color),var(--tw-text-opacity))}.text-widget-onAccent{--tw-text-opacity:1;color:rgba(var(--socket-widget-on-accent-color),var(--tw-text-opacity))}.text-widget-primary{--tw-text-opacity:1;color:rgba(var(--socket-widget-primary-text-color),var(--tw-text-opacity))}.text-red-500{--tw-text-opacity:1;color:rgb(239 68 68/var(--tw-text-opacity))}.text-widget-on-interactive{--tw-text-opacity:1;color:rgba(var(--socket-widget-on-interactive),var(--tw-text-opacity))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.text-opacity-70{--tw-text-opacity:0.7}.underline{-webkit-text-decoration-line:underline;text-decoration-line:underline}.opacity-70{opacity:.7}.opacity-80{opacity:.8}.opacity-60{opacity:.6}.opacity-50{opacity:.5}.opacity-0{opacity:0}.shadow-inner{--tw-shadow:inset 0 2px 4px 0 rgba(0,0,0,.05);--tw-shadow-colored:inset 0 2px 4px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.outline{outline-style:solid}.blur{--tw-blur:blur(8px)}.blur,.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition{transition-duration:.15s;transition-property:color,background-color,border-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-text-decoration-color,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-text-decoration-color,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-300{transition-duration:.3s}.duration-200{transition-duration:.2s}.duration-100{transition-duration:.1s}.ease-linear{transition-timing-function:linear}input::-webkit-inner-spin-button,input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number]{-moz-appearance:textfield}.focus-within\\:border-widget-secondary-text:focus-within{--tw-border-opacity:1;border-color:rgba(var(--socket-widget-secondary-text-color),var(--tw-border-opacity))}.hover\\:rotate-45:hover{--tw-rotate:45deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:bg-widget-secondary:hover{--tw-bg-opacity:1;background-color:rgba(var(--socket-widget-secondary-color),var(--tw-bg-opacity))}.hover\\:bg-red-600:hover{--tw-bg-opacity:1;background-color:rgb(220 38 38/var(--tw-bg-opacity))}.hover\\:bg-opacity-90:hover{--tw-bg-opacity:0.9}.hover\\:bg-opacity-80:hover{--tw-bg-opacity:0.8}.hover\\:text-widget-primary:hover{--tw-text-opacity:1;color:rgba(var(--socket-widget-primary-text-color),var(--tw-text-opacity))}.hover\\:underline:hover{-webkit-text-decoration-line:underline;text-decoration-line:underline}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.disabled\\:pointer-events-none:disabled{pointer-events:none}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:border-opacity-50:disabled{--tw-border-opacity:0.5}.disabled\\:bg-widget-secondary:disabled{--tw-bg-opacity:1;background-color:rgba(var(--socket-widget-secondary-color),var(--tw-bg-opacity))}.disabled\\:font-normal:disabled{font-weight:400}.disabled\\:text-widget-secondary:disabled{--tw-text-opacity:1;color:rgba(var(--socket-widget-secondary-text-color),var(--tw-text-opacity))}.disabled\\:opacity-60:disabled{opacity:.6}.disabled\\:opacity-50:disabled{opacity:.5}.disabled\\:opacity-20:disabled{opacity:.2}');var h,g=o.createSlice({name:"networks",initialState:{allNetworks:null,sourceChainId:null,destChainId:null},reducers:{setNetworks:function(e,t){e.allNetworks=t.payload},setSourceChain:function(e,t){e.sourceChainId=t.payload},setDestChain:function(e,t){e.destChainId=t.payload}}}),b=g.reducer,k=(x=g.actions).setNetworks,y=x.setSourceChain,N=x.setDestChain,j=o.createSlice({name:"customSettings",initialState:{sourceNetworks:null,destNetworks:null,defaultSourceNetwork:137,defaultDestNetwork:1,sourceTokens:null,destTokens:null,defaultSourceToken:null,defaultDestToken:null,sameChainSwapsEnabled:!1,includeBridges:null,excludeBridges:null},reducers:{setCustomSourceNetworks:function(e,t){e.sourceNetworks=t.payload},setCustomDestNetworks:function(e,t){e.destNetworks=t.payload},setDefaultSourceNetwork:function(e,t){e.defaultSourceNetwork=t.payload},setDefaultDestNetwork:function(e,t){e.defaultDestNetwork=t.payload},setCustomSourceTokens:function(e,t){e.sourceTokens=t.payload},setCustomDestTokens:function(e,t){e.destTokens=t.payload},setDefaultSourceToken:function(e,t){e.defaultSourceToken=t.payload},setDefaultDestToken:function(e,t){e.defaultDestToken=t.payload},setSameChainSwaps:function(e,t){e.sameChainSwapsEnabled=t.payload},setIncludeBridges:function(e,t){e.includeBridges=t.payload},setExludeBridges:function(e,t){e.excludeBridges=t.payload}}}),T=j.reducer,S=(h=j.actions).setCustomSourceNetworks,I=h.setCustomDestNetworks,C=h.setDefaultSourceNetwork,R=h.setDefaultDestNetwork;h.setCustomSourceTokens,h.setCustomDestTokens;var A,E,D=h.setDefaultSourceToken,P=h.setDefaultDestToken,O=h.setSameChainSwaps,B=h.setIncludeBridges,L=h.setExludeBridges,_=o.createSlice({name:"tokens",initialState:{tokenList:null,sourceToken:null,destToken:null},reducers:{setSourceToken:function(e,t){e.sourceToken=t.payload},setDestToken:function(e,t){e.destToken=t.payload}}}),z=_.reducer,F=(A=_.actions).setSourceToken,U=A.setDestToken,M=o.createSlice({name:"amount",initialState:{sourceAmount:null,destAmount:null,isEnoughBalance:!0},reducers:{setSourceAmount:function(e,t){e.sourceAmount=t.payload},setIsEnoughBalance:function(e,t){e.isEnoughBalance=t.payload},setDestAmount:function(e,t){e.destAmount=t.payload}}}),G=M.reducer,H=(E=M.actions).setSourceAmount;E.setDestAmount;var V,q=E.setIsEnoughBalance,Q=o.createSlice({name:"quotes",initialState:{allQuotes:null,bestRoute:null,sortPref:"output",refuelEnabled:!1},reducers:{setQuotes:function(e,t){e.allQuotes=t.payload},setBestRoute:function(e,t){e.bestRoute=t.payload},setSortPref:function(e,t){e.sortPref=t.payload},enableRefuel:function(e,t){e.refuelEnabled=t.payload}}}),X=Q.reducer;(V=Q.actions).setQuotes;var W,Y,K=V.setBestRoute,J=V.setSortPref,Z=V.enableRefuel,$=o.createSlice({name:"routes",initialState:{selectedRoute:null},reducers:{setSelectedRoute:function(e,t){e.selectedRoute=t.payload}}}),ee=$.reducer,te=$.actions.setSelectedRoute,oe={txDetails:null!==(W=JSON.parse(localStorage.getItem("txData")))&&void 0!==W?W:{}},ne=o.createSlice({name:"txData",initialState:oe,reducers:{setTxDetails:function(e,t){Object.assign(e.txDetails,t.payload.prevTxDetails)}}}),re=ne.reducer,ie=ne.actions.setTxDetails,le=o.createSlice({name:"modals",initialState:{isTxModalOpen:!1,activeRoute:null,execute:null,error:null},reducers:{setIsTxModalOpen:function(e,t){e.isTxModalOpen=t.payload},setActiveRoute:function(e,t){e.activeRoute=t.payload},setError:function(e,t){e.error=t.payload}}}),se=le.reducer,ae=(Y=le.actions).setIsTxModalOpen,de=Y.setActiveRoute,ue=Y.setError;const ce=o.configureStore({reducer:{networks:b,tokens:z,amount:G,quotes:X,routes:ee,txDetails:re,modals:se,customSettings:T}});var ve={width:360,responsiveWidth:!1,borderRadius:1},fe=n.createContext(null),me=function(t){var o=t.children,r=n.useState(ve),i=r[0],l=r[1];return e.jsx(fe.Provider,f({value:{customization:i,setCustomization:l}},{children:o}))},we=n.createContext(null),pe=function(t){var o=t.children,r=n.useState({userAddress:"",networkId:null,signer:null,provider:null}),i=r[0],l=r[1];return e.jsx(we.Provider,f({value:{web3Provider:i,setweb3Provider:l}},{children:o}))};function xe(t){var o=t.title,n=t.children;return e.jsx("div",f({className:"flex items-center justify-between skt-w text-widget-primary"},{children:e.jsxs(e.Fragment,{children:["string"==typeof o?e.jsx("span",f({className:"font-medium skt-w"},{children:o})):o,n]})}))}var he,ge,be=60,ke=60,ye=30,Ne=120;process.env.REACT_APP_SOCKET_API_KEY,process.env.REACT_APP_SOCKET_API;var je,Te="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee";!function(e){e.FUND_MOVR="fund-movr",e.DEX_SWAP="dex-swap",e.APPROVE="approve",e.CLAIM="claim",e.SIGN="sign"}(je||(je={}));var Se,Ie,Ce,Re,Ae=((he={})[je.APPROVE]="Approve",he[je.FUND_MOVR]="Bridge",he[je.DEX_SWAP]="Swap",he[je.CLAIM]="Claim",he[je.SIGN]="Sign",he),Ee=((ge={})[i.constants.bridges.PolygonBridge]="Polygon",ge[i.constants.bridges.Hop]="Hop",ge[i.constants.bridges.Across]="Across",ge[i.constants.bridges.Hyphen]="Hyphen",ge[i.constants.bridges.refuel]="Refuel",ge[i.constants.bridges.AnySwapRouterV4]="Multichain",ge[i.constants.bridges.Celer]="Celer",ge[i.constants.bridges.ArbitrumBridge]="Arbitrum",ge[i.constants.bridges.OptimismBridge]="Optimism",ge);!function(e){e.COMPLETED="completed",e.PENDING="pending",e.READY="ready"}(Se||(Se={})),function(e){e.FETCHING_QUOTE="Fetching best quote...",e.NO_ROUTES_AVAILABLE="No routes available",e.ENTER_AMOUNT="Enter amount"}(Ie||(Ie={})),function(e){e.NOT_ENOUGH_NATIVE_BALANCE="Native token not enough",e.NOT_ENOUGH_BALANCE="Not enough balance",e.REVIEW_QUOTE="Review Quote",e.CHECKING_APPROVAL="Checking approval",e.APPROVING="Approving",e.APPROVE="Approve",e.APPROVAL_DONE="Approved",e.BRIDGE_IN_PROGRESS="Bridging in progress",e.INITIATING="Initiating...",e.IN_PROGRESS="In progress"}(Ce||(Ce={}));var De=function(){var e=n.useContext(we).web3Provider.userAddress;var t=v.default(e?[e,"active-routes"]:null,(function(e){return m(this,void 0,void 0,(function(){return w(this,(function(t){switch(t.label){case 0:return[4,l.Routes.getActiveRoutesForUser({userAddress:e,routeStatus:"PENDING"})];case 1:return[2,t.sent()]}}))}))}),{refreshInterval:1e3*ye}),o=t.data,r=t.error,i=t.isValidating;return{data:o,isQuotesLoading:e&&(!o&&!r||i),mutate:t.mutate}},Pe=function(e,o,n){var r=t.useSelector((function(e){return e.modals.isTxModalOpen})),i=e&&o&&n&&!r;var s=v.default(i?[e,o,n,"token-balance"]:null,(function(e,t,o){return m(this,void 0,void 0,(function(){return w(this,(function(n){switch(n.label){case 0:return[4,l.Balances.getBalance({tokenAddress:e,chainId:t,userAddress:o})];case 1:return[2,n.sent()]}}))}))}),{refreshInterval:1e3*ke}),a=s.data,d=s.error;return s.isValidating,{data:null==a?void 0:a.result,isBalanceLoading:n&&!d&&!a}},Oe=function(t){var o=t.title,r=t.closeModal,i=t.children,l=t.disableClose,s=void 0!==l&&l,u=t.classNames,c=t.style,v=n.useContext(fe).customization.borderRadius;return e.jsx(d.animated.div,f({style:c,className:"skt-w p-1 w-full h-full absolute top-0 left-0 z-50 bg-black bg-opacity-10"},{children:e.jsxs("div",f({className:"skt-w w-full h-full bg-widget-primary flex flex-col overflow-hidden ".concat(null!=u?u:""),style:{borderRadius:"calc(0.75rem * ".concat(v,")")}},{children:[e.jsx("div",f({className:"skt-w p-3 pt-2.5 border-b border-widget-secondary"},{children:e.jsx(xe,f({title:o},{children:r&&e.jsx("button",f({onClick:r,disabled:s,className:"skt-w skt-w-input skt-w-button disabled:opacity-20 disabled:cursor-not-allowed"},{children:e.jsx(a.X,{className:"skt-w w-5.5 h-5.5 text-widget-secondary"})}))}))})),i]}))}))},Be=function(t){var o=t.handleInput,r=t.searchInput,i=t.setSearchInput,l=n.useContext(fe).customization.borderRadius;return e.jsxs("div",f({className:"skt-w flex items-center px-2 w-full bg-widget-primary border border-widget-secondary-text/30 text-widget-primary text-sm overflow-hidden focus-within:border-widget-secondary-text relative",style:{borderRadius:"calc(0.5rem * ".concat(l,")")}},{children:[e.jsx(a.Search,{className:"skt-w w-5 h-5 text-widget-secondary mr-2"}),e.jsx("input",{onChange:function(e){return o(e.target.value)},placeholder:"Search Name or Address",className:"stk-w skt-w-input w-full border-none py-2 pr-7 bg-transparent overflow-x-hidden overflow-ellipsis",role:"search",value:r,spellCheck:!1}),!!r&&e.jsx(a.XCircle,{className:"skt-w bg-widget-primary w-5 h-5 text-widget-secondary hover:text-secondary absolute right-3 top-.25 cursor-pointer",onClick:function(){i(""),o("")}})]}))},Le=function(t){var o=t.activeToken,r=t.updateToken,i=t.tokens,s=t.tokenToDisable,u=n.useState(!1),c=u[0],x=u[1],h=n.useState(null),g=h[0],b=h[1],k=n.useState(null),y=k[0],N=k[1],j=n.useContext(fe).customization.borderRadius,T=d.useTransition(c,{from:{y:"100%"},enter:{y:"0"},leave:{y:"100%"},config:{duration:200},onReset:function(){return x(!1)}}),S=function(){var e=n.useContext(we).web3Provider.userAddress,t=v.default(e?[e,"user-balance"]:null,(function(e){return m(this,void 0,void 0,(function(){return w(this,(function(t){switch(t.label){case 0:return[4,l.Balances.getBalances({userAddress:e})];case 1:return[2,t.sent()]}}))}))}),{refreshInterval:1e3*Ne}),o=t.data,r=t.error,i=t.isValidating;return{data:null==o?void 0:o.result,isLoading:e&&(!r&&!o||i)}}().data;function I(e){var t=null==S?void 0:S.filter((function(t){return t.address.toLowerCase()===e.address.toLowerCase()&&t.chainId===e.chainId}));return(null==t?void 0:t[0])?t[0].amount.toFixed(5):""}n.useEffect((function(){var e=null==i?void 0:i.filter((function(e){return function(e){var t=null==S?void 0:S.filter((function(t){return t.address.toLowerCase()===e.address.toLowerCase()&&t.chainId===e.chainId}));return(null==t?void 0:t.length)>0}(e)})),t=null==e?void 0:e.sort((function(e,t){var o=S.filter((function(t){return t.address===e.address}))[0],n=S.filter((function(e){return e.address===t.address}))[0];return(null==n?void 0:n.amount)-(null==o?void 0:o.amount)})),o=null==i?void 0:i.filter((function(e){return!(null==t?void 0:t.includes(e))})),n=t&&o&&p(p([],t,!0),o,!0);b(n),N(n)}),[i,S]);var C=n.useState(""),R=C[0],A=C[1];function E(e){A(e)}return n.useEffect((function(){var e=null==g?void 0:g.filter((function(e){var t,o,n;return(null===(o=null===(t=null==e?void 0:e.symbol)||void 0===t?void 0:t.toLowerCase())||void 0===o?void 0:o.includes(R.toLowerCase()))||(null===(n=null==e?void 0:e.address)||void 0===n?void 0:n.toLowerCase())===R.toLowerCase()}));N(e)}),[R]),e.jsxs("div",{children:[o&&e.jsxs("button",f({onClick:function(){return x(!c)},className:"skt-w skt-w-input skt-w-button flex items-center flex-1 bg-widget-interactive flex-shrink-0 flex-nowrap w-auto overflow-hidden p-1 gap-1 text-widget-on-interactive",style:{borderRadius:"calc(1rem * ".concat(j,")")}},{children:[e.jsx("img",{src:null==o?void 0:o.logoURI,className:"skt-w h-6 w-6 rounded-full mr-1 border"}),e.jsxs("div",f({className:"skt-w flex items-center gap-0.5"},{children:[e.jsx("span",{children:null==o?void 0:o.symbol}),e.jsx(a.ChevronDown,{className:"skt-w w-4 h-4"})]}))]})),T((function(t,o){return o&&e.jsxs(Oe,f({title:"Select Token",closeModal:function(){x(!1),E("")},style:t},{children:[e.jsx("div",f({className:"skt-w px-1.5 pt-2 mb-2"},{children:e.jsx(Be,{searchInput:R,setSearchInput:A,handleInput:function(e){return E(e)}})})),e.jsx("div",f({className:"skt-w h-full overflow-y-auto p-1.5"},{children:null==y?void 0:y.map((function(t){return e.jsxs("button",f({className:"skt-w skt-w-input skt-w-button flex hover:bg-widget-secondary items-center p-2 w-full justify-between disabled:opacity-60 disabled:pointer-events-none",onClick:function(){return function(e){r(e),x(!1)}(t)},style:{borderRadius:"calc(0.5rem * ".concat(j,")")},disabled:(null==s?void 0:s.address)===(null==t?void 0:t.address)},{children:[e.jsxs("div",f({className:"skt-w flex items-center"},{children:[e.jsx("img",{src:null==t?void 0:t.logoURI,className:"skt-w w-6 h-6 rounded-full"}),e.jsxs("div",f({className:"skt-w flex flex-col items-start ml-2 text-widget-secondary"},{children:[e.jsx("span",f({className:"skt-w text-sm"},{children:null==t?void 0:t.symbol})),e.jsx("span",f({className:"skt-w text-xs -mt-0.5"},{children:null==t?void 0:t.name}))]}))]})),e.jsx("span",f({className:"skt-w text-widget-secondary text-xs text-right font-medium"},{children:I(t)}))]}),null==t?void 0:t.address)}))}))]}))}))]})},_e=function(t){var o=t.children,r=n.useContext(fe).customization.borderRadius;return e.jsx("span",f({className:"skt-w h-8 flex items-center justify-center bg-widget-interactive flex-shrink-0 flex-nowrap w-auto overflow-hidden py-1 px-3 gap-1 text-sm text-widget-on-interactive",style:{borderRadius:"calc(1rem * ".concat(r,")")}},{children:o}))},ze=function(e,t,o){var n=e?r.ethers.utils.formatUnits(null==e?void 0:e.toString(),t):"";return"0.0"!=n&&n?o?Fe(n,o):n:"0"},Fe=function(e,t){var o,n=new RegExp("^-?\\d+(?:.\\d{0,"+(t||-1)+"})?","g");return null===(o=null==e?void 0:e.toString().match(n))||void 0===o?void 0:o[0]};var Ue,Me=function(e,t){return m(void 0,void 0,void 0,(function(){var e;return w(this,(function(o){switch(o.label){case 0:e=u.hexStripZeros(r.ethers.BigNumber.from(null==t?void 0:t.chainId).toHexString()),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:e}]})];case 2:return o.sent(),[3,4];case 3:return 4902===o.sent().code&&function(e){m(this,void 0,void 0,(function(){var t,o;return w(this,(function(n){switch(n.label){case 0:t=u.hexStripZeros(r.ethers.BigNumber.from(null==e?void 0:e.chainId).toHexString()),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:t,chainName:e.name,rpcUrls:e.rpcs,nativeCurrency:e.currency,blockExplorerUrls:e.explorers}]})];case 2:return n.sent(),[3,4];case 3:return o=n.sent(),console.error("error adding eth network: ",null==e?void 0:e.chainId,e,o),[3,4];case 4:return[2]}}))}))}(t),[3,4];case 4:return[2]}}))}))};function Ge(e,t,o){switch(o){case Ue.TRANSACTION:return"".concat(e,"/tx/").concat(t);case Ue.TOKEN:return"".concat(e,"/token/").concat(t);case Ue.BLOCK:return"".concat(e,"/block/").concat(t);case Ue.ADDRESS:default:return"".concat(e,"/address/").concat(t)}}function He(e){return e.split(",").map((function(e){return e.replace(/[^0-9.]/g,"")})).join(",")}function Ve(e,t){return e.filter((function(e){return e.chainId===t}))}!function(e){e.TRANSACTION="transaction",e.TOKEN="token",e.ADDRESS="address",e.BLOCK="block"}(Ue||(Ue={}));var qe=function(e){return Math.floor(e/60)+"m"},Qe=function(o){var n,r,i,l,s=o.src,a=void 0!==s&&s,d=t.useSelector((function(e){return e.quotes.bestRoute})),u=null==d?void 0:d.refuel,c=ze(a?null==u?void 0:u.fromAmount:null==u?void 0:u.toAmount,a?null===(n=null==u?void 0:u.fromAsset)||void 0===n?void 0:n.decimals:null===(r=null==u?void 0:u.toAsset)||void 0===r?void 0:r.decimals,3);return u?e.jsxs("span",f({className:"skt-w text-widget-accent text-xs absolute left-0 -bottom-5"},{children:["+ ",c," ",a?null===(i=null==u?void 0:u.fromAsset)||void 0===i?void 0:i.symbol:null===(l=null==u?void 0:u.toAsset)||void 0===l?void 0:l.symbol]})):null},Xe=function(t){var o=t.amount,n=t.onChangeInput,r=t.updateToken,i=t.source,l=void 0!==i&&i,s=t.activeToken,a=t.tokens,d=t.noTokens,u=void 0!==d&&d,c=t.tokenToDisable;return e.jsxs("div",f({className:"skt-w flex items-center justify-between mt-2.5 overflow-hidden pb-[1.125rem]"},{children:[e.jsx("div",f({className:"skt-w flex flex-1"},{children:e.jsxs("div",f({className:"stk-w flex flex-col relative"},{children:[e.jsx("input",{className:"skt-w skt-w-input text-widget-primary text-3xl focus:outline-none w-full h-full overflow-ellipsis bg-transparent",value:o,onChange:function(e){return n(e.target.value)},placeholder:"0.0",type:l?"number":"string",onWheel:function(e){return document.activeElement.blur()},inputMode:"decimal",readOnly:!l}),e.jsx(Qe,{src:l})]}))})),u?e.jsx(_e,{children:"No Tokens"}):e.jsx(Le,{updateToken:r,activeToken:s,tokens:a,tokenToDisable:c})]}))};function We(e){var t=n.useRef();return n.useEffect((function(){var o=function(o){var n;(null===(n=null==t?void 0:t.current)||void 0===n?void 0:n.contains(o.target))||e()};return document.addEventListener("mousedown",o),function(){document.removeEventListener("mousedown",o)}})),t}function Ye(t){var o=t.network,n=t.children,r=t.onClick,i=t.selected,l=void 0!==i&&i,s=t.borderRadius,d=void 0===s?1:s,u=t.onlyOneNetwork,c=void 0!==u&&u;return e.jsxs("div",f({className:"skt-w flex w-28 gap-1 items-center cursor-pointer ".concat(l?"":"p-1.5 hover:bg-widget-secondary hover:bg-opacity-80"),onClick:r},{children:[e.jsxs("div",f({className:"skt-w flex items-center gap-1"},{children:[e.jsx("img",{src:null==o?void 0:o.icon,className:"skt-w h-6 w-6",style:{borderRadius:"calc(0.3rem * ".concat(d,")")}}),e.jsx("span",f({className:"skt-w text-sm text-widget-primary"},{children:null==o?void 0:o.name}))]})),l&&!c&&e.jsx(a.ChevronDown,{className:"skt-w text-widget-secondary w-4 h-4"}),n]}))}function Ke(t){var o=t.networks,r=t.activeNetworkId,i=t.onChange,l=n.useState(!1),s=l[0],a=l[1],d=We((function(){return a(!1)})),u=n.useState(null),c=u[0],v=u[1],m=null==o?void 0:o.filter((function(e){return(null==e?void 0:e.chainId)===r}))[0],w=n.useContext(fe).customization.borderRadius;return n.useEffect((function(){v(null==o?void 0:o.filter((function(e){return(null==e?void 0:e.chainId)!==r})))}),[o,r,m]),e.jsxs("div",f({onClick:0===(null==c?void 0:c.length)?null:function(){return a(!s)},className:"skt-w relative p-1.5 ".concat(s?"bg-widget-interactive h-auto":""),style:{borderRadius:"calc(0.5rem * ".concat(w,")")},ref:d},{children:[m?e.jsx(Ye,{network:m,selected:!0,borderRadius:w,onlyOneNetwork:(null==o?void 0:o.length)<2}):e.jsx("span",f({className:"skt-w text-sm text-widget-primary bg-widget-secondary py-1.5 px-2",style:{borderRadius:"calc(0.3rem * ".concat(w,")")}},{children:"Loading chains"})),s&&e.jsx("div",f({className:"skt-w pt-1 z-10 left-0 absolute bg-widget-interactive flex flex-col w-full max-h-[150px] overflow-y-auto overflow-hidden",style:{borderBottomRightRadius:"calc(0.75rem * ".concat(w,")"),borderBottomLeftRadius:"calc(0.75rem * ".concat(w,")")}},{children:null==c?void 0:c.map((function(t,o){return t?e.jsx(Ye,{network:t,onClick:function(){return i(t)},borderRadius:w},"".concat(o,"-chain")):null}))}))]}))}var Je=function(t){var o=t.size,n=void 0===o?6:o;return e.jsx("div",{className:"skt-w w-".concat(n," h-").concat(n," rounded-full ").concat(n>8?"border-[3px]":"border-2"," border-widget-secondary-text/30 border-t-widget-accent/100 animate-spin")})},Ze=function(t){var o=t.token,n=t.isLoading,r=t.onClick,i=ze(null==o?void 0:o.balance,null==o?void 0:o.decimals,5);return e.jsxs("button",f({disabled:!r,className:"skt-w skt-w-input skt-w-button text-widget-primary text-opacity-70 text-xs text-right flex items-center gap-1 transition-all ".concat(r?"hover:underline":""),onClick:r},{children:[e.jsxs("span",{children:["Bal: ",o&&i]}),n&&e.jsx(Je,{size:3})]}))};function $e(){var e=n.useState(void 0),o=e[0],r=e[1],i=t.useSelector((function(e){return e.networks.allNetworks}));return n.useEffect((function(){if(i){var e={};i.forEach((function(t){return e[t.chainId]=t})),r(e)}else r(i)}),[i]),o}function et(e,t,o){var r=function(e,t){var o=n.useRef(e),r=n.useRef();n.useEffect((function(){o.current=e}),[e]);var i=n.useCallback((function(){r.current=setTimeout((function(){return o.current()}),t)}),[t]),l=n.useCallback((function(){r.current&&clearTimeout(r.current)}),[]);return n.useEffect((function(){return i(),l}),[t,i]),{reset:n.useCallback((function(){l(),i()}),[l,i]),clear:l}}(e,t),i=r.reset,l=r.clear;n.useEffect(i,p(p([],o,!0),[i],!1)),n.useEffect(l,[])}var tt=function(e){var o="string"==typeof e,r=t.useSelector((function(e){return e.networks.sourceChainId})),i=t.useSelector((function(e){return e.networks.destChainId})),l=n.useCallback((function(e){return m(void 0,void 0,void 0,(function(){return w(this,(function(t){return[2,fetch(e,{credentials:"omit"}).then((function(e){return e.json()}))]}))}))}),[e]),s=o&&!!r&&!!i,a=v.default(s?e:null,l,{revalidateOnFocus:!1}),d=a.data;a.error;var u=!e&&!!r&&!!i;var c=v.default(u?[r,i,"fetching tokens"]:null,(function(e,t){var o,n,r;return m(this,void 0,void 0,(function(){var i;return w(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,Re.getTokenList({fromChainId:e,toChainId:t})];case 1:return i=l.sent(),[2,{name:"Socket Default",tokens:e===t?p([],null===(o=null==i?void 0:i.to)||void 0===o?void 0:o.tokens,!0):p(p([],null===(n=null==i?void 0:i.from)||void 0===n?void 0:n.tokens,!0),null===(r=null==i?void 0:i.to)||void 0===r?void 0:r.tokens,!0)}];case 2:throw l.sent();case 3:return[2]}}))}))})),f=c.data;return c.error,e&&!o?e:o&&d?null==d?void 0:d.tokens:!e&&f?null==f?void 0:f.tokens:void 0},ot=function(o){var i=o.customTokenList,l=n.useContext(we).web3Provider.userAddress,s=$e(),a=t.useDispatch(),d=t.useSelector((function(e){return e.networks.allNetworks})),u=t.useSelector((function(e){return e.networks.sourceChainId})),c=tt(i),v=t.useSelector((function(e){return e.tokens.sourceToken})),m=n.useState(null),w=m[0],p=m[1],x=n.useState(!1),h=x[0],g=x[1];n.useEffect((function(){if((null==c?void 0:c.length)>0){var e=Ve(c,u);g(0===(null==e?void 0:e.length)),p(e)}}),[c,u]);var b=Pe(null==v?void 0:v.address,u,l),k=b.data,N=b.isBalanceLoading,j=t.useSelector((function(e){return e.customSettings.sourceNetworks})),T=t.useSelector((function(e){return e.customSettings.destNetworks})),S=t.useSelector((function(e){return e.customSettings.defaultSourceNetwork})),I=t.useSelector((function(e){return e.customSettings.defaultSourceToken}));function C(e){a(y(null==e?void 0:e.chainId)),v&&(null==v?void 0:v.chainId)!==(null==e?void 0:e.chainId)&&a(F(null))}var R=n.useState(),A=R[0],E=R[1];n.useEffect((function(){var e;if(null==d?void 0:d.length){var t=void 0;t=(null==j?void 0:j.length)?d.filter((function(e){return null==j?void 0:j.includes(null==e?void 0:e.chainId)})):d,1===(null==T?void 0:T.length)?E(null==t?void 0:t.filter((function(e){return e.chainId!==(null==T?void 0:T[0])}))):E(t),C(null!==(e=null==t?void 0:t.find((function(e){return(null==e?void 0:e.chainId)===S})))&&void 0!==e?e:null==t?void 0:t[0])}}),[d]);var D=t.useSelector((function(e){return e.amount.sourceAmount})),P=n.useState(""),O=P[0],B=P[1],L=n.useState(""),_=L[0],z=L[1];function U(e){if(e){var t=(o=e,n=null==v?void 0:v.decimals,o&&n?r.ethers.utils.parseUnits(o,n).toString():"");z(t)}var o,n}function M(){var e,t;return null!==(t=null===(e=w.filter((function(e){var t;return"usdc"===((null===(t=null==e?void 0:e.chainAgnosticId)||void 0===t?void 0:t.toLowerCase())||e.symbol.toLowerCase())})))||void 0===e?void 0:e[0])&&void 0!==t?t:w[0]}et((function(){return a(H(_))}),500,[_]),n.useEffect((function(){if(_&&k){var e=r.ethers.BigNumber.from(_).lte(r.ethers.BigNumber.from(null==k?void 0:k.balance));a(q(e))}}),[_,k]),n.useEffect((function(){var e,t;if((null==w?void 0:w.length)>0){var o=void 0,n=v&&w.find((function(e){var t;return e.address.toLowerCase()===(null===(t=null==v?void 0:v.address)||void 0===t?void 0:t.toLowerCase())}));n||(o=I&&null!==(t=null===(e=w.filter((function(e){return e.address.toLowerCase()===I.toLowerCase()})))||void 0===e?void 0:e[0])&&void 0!==t?t:M()),o&&Q(o)}}),[w]);var G=n.useState(),V=G[0],Q=G[1];return et((function(){return a(F(V))}),300,[V]),n.useEffect((function(){if(v&&O){var e=Fe(O,null==v?void 0:v.decimals);B(e),U(e)}}),[v]),n.useEffect((function(){D&&a(H(null))}),[]),e.jsxs("div",f({className:"skt-w mt-3.5"},{children:[e.jsxs("div",f({className:"skt-w flex items-center justify-between"},{children:[e.jsxs("div",f({className:"skt-w flex items-center gap-1.5"},{children:[e.jsx("span",f({className:"skt-w text-widget-secondary text-sm"},{children:"From"})),e.jsx(Ke,{networks:A,activeNetworkId:u,onChange:C})]})),!h&&e.jsx(Ze,{token:k,isLoading:N,onClick:function(){return function(t){function o(e){var t=ze(e,null==v?void 0:v.decimals,null==v?void 0:v.decimals);B(t),U(t)}if(v.address===Te){var n=s[u].currency.minNativeCurrencyForGas,i=void 0;i=r.ethers.BigNumber.from(n),1===u&&(i=(i=i.mul(17)).div(10));var l=r.ethers.BigNumber.from(t);i.lt(l)?o(l.sub(i)):a(ue(e.jsxs("span",{children:["You are low on gas. We got you covered, use"," ",e.jsx("a",f({href:"https://www.bungee.exchange/refuel",target:"_blank",rel:"noopener noreferrer",className:"skt-w skt-w-anchor text-widget-accent text-medium"},{children:"Refuel"}))," ","to get gas now!"]})))}else o(t)}(null==k?void 0:k.balance)}})]})),e.jsx(Xe,{source:!0,amount:O,onChangeInput:function(e){(null==e?void 0:e.indexOf("."))>-1?e.split(".")[1].length<=(null==v?void 0:v.decimals)&&(B(e),U(e)):(B(e),U(e)),e&&0!=e||a(K(null))},updateToken:Q,activeToken:v,tokens:w,noTokens:h})]}))},nt=function(o){var r=o.customTokenList,i=n.useContext(we).web3Provider.userAddress,l=t.useDispatch(),s=t.useSelector((function(e){return e.networks.allNetworks})),a=t.useSelector((function(e){return e.networks.destChainId})),d=t.useSelector((function(e){return e.networks.sourceChainId})),u=n.useState(!1),c=u[0],v=u[1],m=tt(r),w=t.useSelector((function(e){return e.tokens.destToken})),p=t.useSelector((function(e){return e.tokens.sourceToken})),x=n.useState(null),h=x[0],g=x[1];n.useEffect((function(){if((null==m?void 0:m.length)>0){var e=Ve(m,a);v(0===(null==e?void 0:e.length)),g(e)}}),[m,a]);var b=t.useSelector((function(e){return e.quotes.bestRoute})),k=Pe(null==w?void 0:w.address,a,i),y=k.data,j=k.isBalanceLoading,T=t.useSelector((function(e){return e.customSettings.destNetworks})),S=t.useSelector((function(e){return e.customSettings.defaultDestNetwork})),I=t.useSelector((function(e){return e.customSettings.defaultDestToken})),C=t.useSelector((function(e){return e.customSettings.sameChainSwapsEnabled})),R=n.useState(!1),A=R[0],E=R[1];function D(e){l(N(null==e?void 0:e.chainId)),w&&(null==w?void 0:w.chainId)!==(null==e?void 0:e.chainId)&&(l(U(null)),Y(null))}n.useEffect((function(){E(!0),G(!0)}),[]);var P=n.useState(),O=P[0],B=P[1],L=n.useState(),_=L[0],z=L[1];n.useEffect((function(){if(null==s?void 0:s.length){var e=void 0;e=(null==T?void 0:T.length)?s.filter((function(e){return null==T?void 0:T.includes(null==e?void 0:e.chainId)})):s,B(e)}}),[s]);var F=n.useState(!1),M=F[0],G=F[1];n.useEffect((function(){var e;if(null==O?void 0:O.length){var t=void 0;t=C?O:O.filter((function(e){return e.chainId!==d})),z(t),M?(D(null!==(e=null==t?void 0:t.find((function(e){return(null==e?void 0:e.chainId)===S})))&&void 0!==e?e:null==t?void 0:t[0]),G(!1)):d===a&&D(null==t?void 0:t[0])}}),[O,d]);var H=n.useState(""),V=H[0],q=H[1];function Q(){var e,t=null===(e=h.filter((function(e){var t;return"usdc"===((null===(t=null==e?void 0:e.chainAgnosticId)||void 0===t?void 0:t.toLowerCase())||e.symbol.toLowerCase())})))||void 0===e?void 0:e[0];return d===a&&(null==t?void 0:t.address)===(null==p?void 0:p.address)?h[0]:null!=t?t:h[0]}n.useEffect((function(){var e,t,o=(null===(e=null==b?void 0:b.route)||void 0===e?void 0:e.toAmount)?ze(null===(t=null==b?void 0:b.route)||void 0===t?void 0:t.toAmount,null==w?void 0:w.decimals,6).toString():"";q(o)}),[b]),n.useEffect((function(){var e,t,o,n;if((null==h?void 0:h.length)&&p){var r=void 0;if(A)r=I&&null!==(t=null===(e=h.filter((function(e){return e.address.toLowerCase()===I.toLowerCase()})))||void 0===e?void 0:e[0])&&void 0!==t?t:Q();else if((null==p?void 0:p.address)===(null==w?void 0:w.address))r=Q();else{var i=w&&h.find((function(e){var t;return e.address.toLowerCase()===(null===(t=null==w?void 0:w.address)||void 0===t?void 0:t.toLowerCase())}));i||(r=p.chainAgnosticId&&d!==a&&null!==(n=null===(o=h.filter((function(e){var t;return(null===(t=null==e?void 0:e.chainAgnosticId)||void 0===t?void 0:t.toLowerCase())===p.chainAgnosticId.toLowerCase()})))||void 0===o?void 0:o[0])&&void 0!==n?n:Q())}E(!1),r&&Y(r)}}),[h,p]);var X=n.useState(),W=X[0],Y=X[1];return et((function(){return l(U(W))}),300,[W]),e.jsxs("div",f({className:"skt-w mt-6"},{children:[e.jsxs("div",f({className:"skt-w flex items-center justify-between"},{children:[e.jsxs("div",f({className:"skt-w flex items-center gap-x-1.5"},{children:[e.jsx("span",f({className:"skt-w text-widget-secondary text-sm"},{children:"To"})),e.jsx(Ke,{networks:_,activeNetworkId:a,onChange:D})]})),!c&&e.jsx(Ze,{token:y,isLoading:j})]})),e.jsx(Xe,{amount:"".concat(V?"~".concat(V):""),updateToken:Y,activeToken:w,tokens:h,noTokens:c,tokenToDisable:d===a&&p})]}))},rt=function(t){var o=t.onClick,r=t.children,i=t.disabled,l=void 0!==i&&i;t.secondary,t.primary;var s=t.classNames,a=t.isLoading,d=void 0!==a&&a,u=n.useContext(fe).customization.borderRadius;return e.jsxs("button",f({onClick:o,disabled:l,className:"skt-w skt-w-input skt-w-button h-14 px-3 flex items-center justify-center gap-2 transition-all duration-100 ease-linear w-full bg-widget-accent text-widget-onAccent hover:bg-opacity-90 border-widget-primary \n      disabled:bg-widget-secondary \n      disabled:text-widget-secondary \n      disabled:opacity-50 \n      disabled:font-normal \n      disabled:border-opacity-50 \n      border \n      ".concat(s||""),style:{borderRadius:"calc(0.625rem * ".concat(u,")")}},{children:[d&&e.jsx(Je,{size:4})," ",r]}))},it=function(t){var o=t.children,r=t.classNames,i=n.useContext(fe).customization.borderRadius;return e.jsx("div",f({className:"skt-w bg-widget-secondary p-3 mt-3 ".concat(r||""),style:{borderRadius:"calc(0.75rem * ".concat(i,")")}},{children:o}))},lt=function(t){var o,n=t.activeRoute,r=t.currentTxIndex,i=t.completed,l=t.inProgress,s=t.forReview,d=t.txData,u=t.refuel,c=$e();return e.jsx("div",f({className:"skt-w flex flex-col gap-4 text-sm"},{children:null===(o=null==n?void 0:n.userTxs)||void 0===o?void 0:o.map((function(t,o){var v,m,w,p,x,h,g,b,k,y,N,j,T,S,I,C,R,A,E,D,P,O="completed"===(null==t?void 0:t.userTxStatus)||o<r||i,B=r===(null==t?void 0:t.userTxIndex),L=(null===(v=null==d?void 0:d[o])||void 0===v?void 0:v.txHash)||(null===(m=null==d?void 0:d[o])||void 0===m?void 0:m.hash),_=L?Ge(null===(w=null==c?void 0:c[null==t?void 0:t.chainId])||void 0===w?void 0:w.explorers[0],L,Ue.TRANSACTION):null,z=function(e,o){var n,r,i,l,s,a=null===e?t:null===(n=null==t?void 0:t.steps)||void 0===n?void 0:n[e];return{amount:ze(null==a?void 0:a[o?"toAmount":"fromAmount"],null===(r=null==a?void 0:a[o?"toAsset":"fromAsset"])||void 0===r?void 0:r.decimals),chainId:null===(i=null==a?void 0:a[o?"toAsset":"fromAsset"])||void 0===i?void 0:i.chainId,symbol:null===(l=null==a?void 0:a[o?"toAsset":"fromAsset"])||void 0===l?void 0:l.symbol,protocolName:null===(s=null==a?void 0:a.protocol)||void 0===s?void 0:s.displayName}};if("fund-movr"===(null==t?void 0:t.userTxType)){var F=(null===(p=null==t?void 0:t.steps)||void 0===p?void 0:p.length)>1,U=z(0,!1),M=z(0,!0),G=z(F?1:0,!1),H=z(F?1:0,!0),V=(null==t?void 0:t.destinationTxHash)?Ge(null===(x=null==c?void 0:c[null==H?void 0:H.chainId])||void 0===x?void 0:x.explorers[0],t.destinationTxHash,Ue.TRANSACTION):null,q=(null==t?void 0:t.refuelDestinationHash)?Ge(null===(h=null==c?void 0:c[null==H?void 0:H.chainId])||void 0===h?void 0:h.explorers[0],t.refuelDestinationHash,Ue.TRANSACTION):null,Q={amount:ze(null==u?void 0:u.fromAmount,null===(g=null==u?void 0:u.fromAsset)||void 0===g?void 0:g.decimals),chainId:null==u?void 0:u.fromChainId,symbol:null===(b=null==u?void 0:u.fromAsset)||void 0===b?void 0:b.symbol},X={amount:ze(null==u?void 0:u.toAmount,null===(k=null==u?void 0:u.toAsset)||void 0===k?void 0:k.decimals),chainId:null==u?void 0:u.toChainId,symbol:null===(y=null==u?void 0:u.toAsset)||void 0===y?void 0:y.symbol};return e.jsx("div",f({className:"skt-w flex flex-col gap-3 text-sm"},{children:F?e.jsx(st,f({label:"Tx ".concat(o+1," : Swap & Bridge"),complete:O,currentTx:B,url:_,inProgress:l,forReview:s},{children:e.jsxs("div",f({className:"skt-w flex flex-col gap-2"},{children:[e.jsxs("span",{children:[Number(null==U?void 0:U.amount).toFixed(3)," ",null==U?void 0:U.symbol," for"," ",Number(null==M?void 0:M.amount).toFixed(3)," ",null==M?void 0:M.symbol," ","via ",null==M?void 0:M.protocolName," on"," ",null===(N=null==c?void 0:c[U.chainId])||void 0===N?void 0:N.name]}),e.jsxs("span",{children:[Number(null==G?void 0:G.amount).toFixed(3)," ",null==G?void 0:G.symbol," ","on ",null===(j=null==c?void 0:c[null==G?void 0:G.chainId])||void 0===j?void 0:j.name," to"," ",Number(null==H?void 0:H.amount).toFixed(3)," ",null==H?void 0:H.symbol," on"," ",null===(T=null==c?void 0:c[null==H?void 0:H.chainId])||void 0===T?void 0:T.name," via"," ",null==G?void 0:G.protocolName," bridge."," ",V&&e.jsxs("a",f({href:V,target:"_blank",rel:"noopener noreferrer",className:"skt-w skt-w-anchor underline inline-flex items-center text-widget-primary"},{children:["Dest tx"," ",e.jsx(a.ExternalLink,{className:"skt-w w-3 h-3 ml-1"})]}))]}),u&&e.jsxs("span",{children:[e.jsxs("span",f({className:"skt-w text-widget-accent"},{children:["For Refuel :"," "]})),Number(null==Q?void 0:Q.amount).toFixed(3)," ",null==Q?void 0:Q.symbol," on"," ",null===(S=null==c?void 0:c[null==Q?void 0:Q.chainId])||void 0===S?void 0:S.name," to"," ",Fe(Number(null==X?void 0:X.amount),3)," ",null==X?void 0:X.symbol," on"," ",null===(I=null==c?void 0:c[null==X?void 0:X.chainId])||void 0===I?void 0:I.name," via"," ","Refuel."," ",q&&e.jsxs("a",f({href:q,target:"_blank",rel:"noopener noreferrer",className:"skt-w skt-w-anchor underline inline-flex items-center text-widget-primary"},{children:["Dest tx"," ",e.jsx(a.ExternalLink,{className:"skt-w w-3 h-3 ml-1"})]}))]})]}))})):e.jsx(st,f({label:"Tx ".concat(o+1," : Bridge"),complete:O,currentTx:B,url:_,inProgress:l,forReview:s},{children:e.jsxs("div",f({className:"skt-w flex flex-col gap-2"},{children:[e.jsxs("span",{children:[Number(null==G?void 0:G.amount).toFixed(3)," ",null==G?void 0:G.symbol," ","on ",null===(C=null==c?void 0:c[null==G?void 0:G.chainId])||void 0===C?void 0:C.name," to"," ",Number(null==H?void 0:H.amount).toFixed(3)," ",null==H?void 0:H.symbol," on"," ",null===(R=null==c?void 0:c[null==H?void 0:H.chainId])||void 0===R?void 0:R.name," via"," ",null==G?void 0:G.protocolName," bridge."," ",V&&e.jsxs("a",f({href:V,target:"_blank",rel:"noopener noreferrer",className:"skt-w skt-w-anchor underline inline-flex items-center text-widget-primary"},{children:["Dest tx"," ",e.jsx(a.ExternalLink,{className:"skt-w w-3 h-3 ml-1"})]}))]}),u&&e.jsxs("span",{children:[e.jsxs("span",f({className:"skt-w text-widget-accent"},{children:["For Refuel :"," "]})),Number(null==Q?void 0:Q.amount).toFixed(3)," ",null==Q?void 0:Q.symbol," on"," ",null===(A=null==c?void 0:c[null==Q?void 0:Q.chainId])||void 0===A?void 0:A.name," to"," ",Fe(Number(null==X?void 0:X.amount),3)," ",null==X?void 0:X.symbol," on"," ",null===(E=null==c?void 0:c[null==X?void 0:X.chainId])||void 0===E?void 0:E.name," via"," ","Refuel."," ",q&&e.jsxs("a",f({href:q,target:"_blank",rel:"noopener noreferrer",className:"skt-w skt-w-anchor underline inline-flex items-center text-widget-primary"},{children:["Dest tx"," ",e.jsx(a.ExternalLink,{className:"skt-w w-3 h-3 ml-1"})]}))]})]}))}))}),"".concat(null==n?void 0:n.activeRouteId,"-fund-movr-swap"))}if("dex-swap"===(null==t?void 0:t.userTxType)){U=z(null,!1),M=z(null,!0);return e.jsxs(st,f({label:"Tx ".concat(o+1," : Swap"),complete:O,currentTx:B,url:_,inProgress:l,forReview:s},{children:[Number(null==U?void 0:U.amount).toFixed(3)," ",null==U?void 0:U.symbol," for"," ",Number(null==M?void 0:M.amount).toFixed(3)," ",null==M?void 0:M.symbol," via"," ",null==M?void 0:M.protocolName," on"," ",null===(D=null==c?void 0:c[null==M?void 0:M.chainId])||void 0===D?void 0:D.name]}),"".concat(null==n?void 0:n.activeRouteId,"-dex-swap-").concat(o))}if("claim"===(null==t?void 0:t.userTxType))return e.jsxs(st,f({label:"Tx ".concat(o+1," : Claim"),complete:O,currentTx:B,url:_,inProgress:l,forReview:s},{children:["Claim ",null===(P=null==t?void 0:t.toAsset)||void 0===P?void 0:P.symbol," on"," ",null==c?void 0:c[null==t?void 0:t.chainId].name]}),"".concat(null==n?void 0:n.activeRouteId,"-claim"))}))}))},st=function(t){var o=t.label,r=t.children,i=t.complete,l=void 0!==i&&i,s=t.currentTx,d=void 0!==s&&s,u=t.url,c=void 0===u?null:u,v=t.inProgress,m=void 0!==v&&v,w=t.forReview,p=void 0!==w&&w,x=l||d,h=n.useContext(fe).customization.borderRadius;return e.jsxs("div",f({className:"skt-w flex gap-3.5 ".concat(d?"bg-widget-secondary p-3 bg-opacity-20 border border-widget-accent":""),style:{borderRadius:"calc(0.5rem * ".concat(h)}},{children:[e.jsx("div",f({className:"skt-w h-6 w-6 flex items-center justify-center shrink-0 mt-[3px] ".concat(l?"bg-widget-secondary":"bg-transparent"),style:{borderRadius:"calc(0.25rem * ".concat(h,")")}},{children:m&&d?e.jsx(Je,{size:4}):l?e.jsx(a.CheckCircle,{className:"skt-w w-[18px] h-[18px] text-widget-accent"}):e.jsx(a.ArrowRight,{className:"skt-w w-[18px] h-[18px] ".concat(d||p?"text-widget-accent":"text-widget-secondary opacity-60")})})),e.jsxs("div",f({className:"skt-w flex flex-col text-xs text-left text-widget-secondary gap-0.5 ".concat(x||p?"":"opacity-60")},{children:[e.jsx("span",f({className:"skt-w ".concat(x||p?"font-medium text-widget-primary":"")},{children:c?e.jsxs("a",f({href:c,className:"skt-w skt-w-anchor underline flex items-center gap-1",target:"_blank",rel:"noopener noreferrer"},{children:[o," ",e.jsx(a.ExternalLink,{className:"skt-w w-3 h-3 opacity-50"})]})):o})),e.jsx("span",{children:r})]}))]}))},at=function(t){var o,r,i,l=t.token,s=t.rtl,a=void 0!==s&&s,d=t.amount,u=t.small,c=void 0!==u&&u,v=t.refuel,m=$e(),w=null==m?void 0:m[null==l?void 0:l.chainId],p=ze(d,null==l?void 0:l.decimals,4),x=ze(null==v?void 0:v.amount,null===(o=null==v?void 0:v.asset)||void 0===o?void 0:o.decimals,3),h=!!(null==v?void 0:v.amount),g=n.useContext(fe).customization.borderRadius;return e.jsxs("div",f({className:"skt-w flex flex-col flex-1 max-w-full ".concat(a?"items-end":"flex-row"),style:{borderRadius:"calc(0.7rem * ".concat(g,")")}},{children:[e.jsxs("div",f({className:"skt-w flex items-center gap-2 flex-1 overflow-hidden ".concat(a?"flex-row-reverse":"flex-row")},{children:[e.jsxs("div",f({className:"skt-w relative flex flex-shrink-0"},{children:[e.jsx("img",{src:null==l?void 0:l.logoURI,className:"skt-w w-6 h-6 rounded-full border-widget-primary"}),!!(null==v?void 0:v.amount)&&e.jsx("img",{src:null===(r=null==v?void 0:v.asset)||void 0===r?void 0:r.logoURI,className:"skt-w w-6 h-6 rounded-full -ml-2 border-2 border-widget-accent object-cover bg-widget-accent"})]})),e.jsx("div",f({className:"skt-w flex flex-col flex-auto overflow-hidden ".concat(a?"items-end":"items-start")},{children:e.jsxs("span",f({className:"skt-w text-widget-primary w-full font-medium overflow-hidden whitespace-nowrap text-ellipsis flex flex-col gap-1 ".concat(a?"text-right items-end":"text-left items-start"," ").concat(c?"text-xs":"text-sm")},{children:[e.jsxs("span",{children:[p," ",null==l?void 0:l.symbol]}),h&&e.jsxs("span",f({className:"skt-w text-[10px] -mt-1 font-normal text-widget-accent ".concat(a?"text-right":"text-left")},{children:["(+ ",x," ",null===(i=null==v?void 0:v.asset)||void 0===i?void 0:i.symbol,")"]}))]}))}))]})),e.jsxs("p",f({className:"skt-w text-xs text-widget-secondary mt-1 ".concat(a?"text-right":"text-left")},{children:["on ",null==w?void 0:w.name]}))]}))},dt=function(t){var o=t.srcDetails,r=t.srcRefuel,i=t.destDetails,l=t.destRefuel,s=t.onClick,d=n.useContext(fe).customization.borderRadius;return e.jsx("button",f({onClick:null!=s?s:null,disabled:!s,className:"skt-w skt-w-button skt-w-input px-3 py-4 border-widget-secondary flex flex-col items-start w-full ".concat(s?"hover:bg-widget-secondary":""),style:{borderRadius:"calc(0.5rem * ".concat(d,")")}},{children:e.jsxs("div",f({className:"skt-w flex justify-between items-center w-full"},{children:[e.jsx(at,{token:null==o?void 0:o.token,amount:null==o?void 0:o.amount,refuel:r}),e.jsx(a.ArrowDown,{className:"skt-w w-4 h-4 text-widget-secondary ".concat("-rotate-90")}),e.jsx(at,{token:null==i?void 0:i.token,amount:null==i?void 0:i.amount,refuel:l,rtl:!0})]}))}))},ut=function(e,t,o,i){var s=n.useState(""),a=s[0],d=s[1],u=n.useState(0),c=u[0],f=u[1],p=function(e){var t=v.default(e?[e,"gas price"]:null,(function(e){return m(this,void 0,void 0,(function(){return w(this,(function(t){switch(t.label){case 0:return[4,l.Server.getGasPrice({chainId:e})];case 1:return[2,t.sent()]}}))}))})),o=t.data;return t.error,t.isValidating,{data:null==o?void 0:o.result}}(t);return n.useEffect((function(){var n=!!e&&!!(null==p?void 0:p.data)&&r.ethers.BigNumber.from(e).mul(r.ethers.BigNumber.from(null==p?void 0:p.data.normal.gasPrice)).toString();if(n&&o){var l=ze(n,o).toString();d(l)}if(i&&t){var s=null==i?void 0:i.userTxs.reduce((function(e,o){var n,r;return o.chainId===t?e+(null!==(r=null===(n=o.gasFees)||void 0===n?void 0:n.feesInUsd)&&void 0!==r?r:0):e}),0);f(s)}}),[p,e]),{feesInToken:a,feesInUsd:c}},ct=function(e,t){var o=n.useState(""),i=o[0],l=o[1];return n.useEffect((function(){if(e&&t){var o=null==e?void 0:e.userTxs.reduce((function(e,o){var n;return o.chainId===t?e.add(r.ethers.BigNumber.from(null===(n=o.gasFees)||void 0===n?void 0:n.gasLimit)||0):e}),r.ethers.BigNumber.from(0));l(o.toString())}}),[e,t]),i},vt=function(o){var r,i,l,s,d,u,c,v,p,x,h,g,b,k,y,N,j,T,S,I,C,R,A,E,D,P,O,B=o.closeModal,L=o.style,_=t.useDispatch(),z=t.useSelector((function(e){return e.quotes.bestRoute})),F=t.useSelector((function(e){return e.routes.selectedRoute})),U=n.useState(!1),M=U[0],G=U[1],H=n.useState(!1),V=H[0],q=H[1],Q=n.useState(!1),X=Q[0],W=Q[1],Y=n.useContext(fe).customization.borderRadius;n.useEffect((function(){q(z!==F)}),[F,z]);var K={amount:null===(r=null==F?void 0:F.refuel)||void 0===r?void 0:r.fromAmount,asset:null===(i=null==F?void 0:F.refuel)||void 0===i?void 0:i.fromAsset},J={amount:null===(l=null==F?void 0:F.refuel)||void 0===l?void 0:l.toAmount,asset:null===(s=null==F?void 0:F.refuel)||void 0===s?void 0:s.toAsset},Z=ct(null==F?void 0:F.route,null===(u=null===(d=null==F?void 0:F.path)||void 0===d?void 0:d.fromToken)||void 0===u?void 0:u.chainId),$=null===(p=null===(v=null===(c=null==F?void 0:F.route)||void 0===c?void 0:c.userTxs.filter((function(e){var t,o;return e.chainId===(null===(o=null===(t=null==F?void 0:F.path)||void 0===t?void 0:t.fromToken)||void 0===o?void 0:o.chainId)}))[0])||void 0===v?void 0:v.gasFees)||void 0===p?void 0:p.asset,ee=ut(Z,null==$?void 0:$.chainId,null==$?void 0:$.decimals,null==F?void 0:F.route),oe=ee.feesInToken,ne=ee.feesInUsd,re=ct(null==F?void 0:F.route,null===(h=null===(x=null==F?void 0:F.path)||void 0===x?void 0:x.fromToken)||void 0===h?void 0:h.chainId),ie=null===(k=null===(b=null===(g=null==F?void 0:F.route)||void 0===g?void 0:g.userTxs.filter((function(e){var t,o;return e.chainId===(null===(o=null===(t=null==F?void 0:F.path)||void 0===t?void 0:t.toToken)||void 0===o?void 0:o.chainId)}))[0])||void 0===b?void 0:b.gasFees)||void 0===k?void 0:k.asset,le=ut(re,null==ie?void 0:ie.chainId,null==ie?void 0:ie.decimals,null==F?void 0:F.route),se=le.feesInToken,de=le.feesInUsd,ue=null===(y=null==F?void 0:F.route)||void 0===y?void 0:y.userTxs.filter((function(e){return e.userTxType===je.FUND_MOVR}))[0],ce=(null==ue?void 0:ue.steps)&&(null==ue?void 0:ue.steps.filter((function(e){return"bridge"===e.type}))[0]),ve=null===(j=null===(N=null==F?void 0:F.route)||void 0===N?void 0:N.userTxs.filter((function(e){return e.userTxType===je.DEX_SWAP})))||void 0===j?void 0:j[0],me=null==ce?void 0:ce.protocolFees.feesInUsd,we=ze(null==ce?void 0:ce.protocolFees.amount,null==ce?void 0:ce.protocolFees.asset.decimals,5),pe=null==ce?void 0:ce.protocolFees.asset.symbol;return n.useEffect((function(){var e,t,o,n;W((null===(t=null===(e=null==F?void 0:F.path)||void 0===e?void 0:e.fromToken)||void 0===t?void 0:t.chainId)===(null===(n=null===(o=null==F?void 0:F.path)||void 0===o?void 0:o.toToken)||void 0===n?void 0:n.chainId))}),[F]),e.jsx(Oe,f({title:"Review Quote",closeModal:M?function(){return G(!M)}:B,style:L},{children:e.jsxs("div",f({className:"skt-w flex flex-col justify-between flex-1 relative"},{children:[e.jsxs("div",f({className:"skt-w w-full"},{children:[e.jsx(dt,{srcDetails:{token:null===(T=null==F?void 0:F.path)||void 0===T?void 0:T.fromToken,amount:null==F?void 0:F.amount},destDetails:{token:null===(S=null==F?void 0:F.path)||void 0===S?void 0:S.toToken,amount:null===(I=null==F?void 0:F.route)||void 0===I?void 0:I.toAmount},srcRefuel:K,destRefuel:J}),e.jsxs("div",f({className:"skt-w p-3 flex flex-col gap-3 mt-1"},{children:[X?e.jsx(ft,{label:"Dex Name",value:null===(P=null==ve?void 0:ve.protocol)||void 0===P?void 0:P.displayName}):e.jsxs(e.Fragment,{children:[e.jsx(ft,{label:"Bridge Name",value:Ee[null===(R=null===(C=null==F?void 0:F.route)||void 0===C?void 0:C.usedBridgeNames)||void 0===R?void 0:R[0]]||(null===(E=null===(A=null==F?void 0:F.route)||void 0===A?void 0:A.usedBridgeNames)||void 0===E?void 0:E[0])}),e.jsx(ft,{label:"Estimated Bridging Time",value:qe(null===(D=null==F?void 0:F.route)||void 0===D?void 0:D.serviceTime)}),e.jsx(ft,f({label:"Bridge Fee"},{children:e.jsx(mt,{feeInToken:we,feeInUsd:me,tokenSymbol:pe})}))]}),e.jsx(ft,f({label:"Source Gas Fee"},{children:e.jsx(mt,{feeInToken:oe,feeInUsd:ne,tokenSymbol:null==$?void 0:$.symbol})})),!!se&&!X&&e.jsxs(e.Fragment,{children:[e.jsx(ft,f({label:"Dest Gas Fee"},{children:e.jsx(mt,{feeInToken:se,feeInUsd:de,tokenSymbol:null==ie?void 0:ie.symbol})})),e.jsx(ft,{label:"Number of transactions",value:null===(O=null==F?void 0:F.route)||void 0===O?void 0:O.totalUserTx})]})]}))]})),e.jsxs(it,f({classNames:"absolute w-full flex bottom-0 flex-col justify-between transition-all\t ".concat(M?"h-full max-h-full":"h-auto max-h-min")},{children:[e.jsxs("div",f({className:"skt-w flex-1 flex flex-col overflow-auto"},{children:[e.jsxs("button",f({className:"skt-w skt-w-button skt-w-input flex items-center gap-1.5 text-sm text-widget-secondary mb-3",onClick:function(){return G(!M)}},{children:[e.jsx(a.ChevronUp,{className:"skt-w w-4 h-4 text-widget-secondary transition-all ".concat(M?"rotate-180":"rotate-0")})," ","See route details"]})),M&&e.jsx("div",f({className:"skt-w mb-3 flex-1 overflow-y-auto"},{children:e.jsx(lt,{activeRoute:null==F?void 0:F.route,forReview:!0,refuel:null==F?void 0:F.refuel})}))]})),e.jsxs("div",f({className:"skt-w h-14 transition-all duration-300 flex justify-between items-center border ".concat(V?"border-widget-outline p-1 pl-2":"border-transparent"),style:{borderRadius:"calc(0.875rem * ".concat(Y,")")}},{children:[V&&e.jsx("span",f({className:"skt-w whitespace-nowrap w-full text-widget-secondary text-sm text-left"},{children:"Quote updated"})),e.jsx(rt,f({onClick:V?function(){_(te(z))}:function(){return m(this,void 0,void 0,(function(){return w(this,(function(e){return _(ae(!0)),[2]}))}))},classNames:"".concat(V?"h-12":"")},{children:V?"Accept":"Confirm ".concat(X?"Swap":"Bridge")}))]}))]}))]}))}))},ft=function(t){var o=t.label,n=t.value,r=t.children;return e.jsxs("div",f({className:"skt-w w-full flex justify-between text-sm text-widget-secondary"},{children:[e.jsx("span",{children:o}),e.jsx("span",{children:n}),r]}))},mt=function(t){var o=t.feeInToken,n=t.tokenSymbol,r=t.feeInUsd;return o?e.jsxs("span",{children:[o&&"0"!==o?e.jsxs("span",{children:[Fe(o,5)," ",e.jsx("span",f({className:"font-medium"},{children:n}))," "]}):0,0!==r&&e.jsxs("span",f({className:"opacity-80 font-normal"},{children:["($",null==r?void 0:r.toFixed(4),")"]}))]}):null},wt=function(){var o=t.useDispatch(),i=t.useSelector((function(e){return e.tokens.sourceToken})),l=t.useSelector((function(e){return e.tokens.destToken})),s=t.useSelector((function(e){return e.quotes.sortPref})),u=t.useSelector((function(e){return e.amount.sourceAmount})),c=t.useSelector((function(e){return e.modals.isTxModalOpen})),p=t.useSelector((function(e){return e.quotes.refuelEnabled})),x=t.useSelector((function(e){return e.customSettings.includeBridges})),h=t.useSelector((function(e){return e.customSettings.excludeBridges})),g=t.useSelector((function(e){return e.amount.isEnoughBalance})),b=n.useContext(we).web3Provider.userAddress,k=function(e,o,n,r,i,l,s,a){var d=t.useSelector((function(e){return e.modals.isTxModalOpen})),u=!(!e||!o||!n||"0"===n||!i||d),c=v.default(u?[e,o,n,i,r,l,s,a,"quotes"]:null,(function(e,t,o,n,r,i,l,s){return m(this,void 0,void 0,(function(){return w(this,(function(a){switch(a.label){case 0:return[4,Re.getAllQuotes({path:{fromToken:e,toToken:t},amount:o,address:n},{sort:r,bridgeWithGas:i,includeBridges:l,excludeBridges:s})];case 1:return[2,a.sent()]}}))}))}),{refreshInterval:1e3*be,revalidateOnFocus:!1}),f=c.data,p=c.error,x=c.isValidating;return{data:f,isQuotesLoading:i&&(!f&&!p||x)}}(null!=i?i:"",l,u,s,b,p,x,h),y=k.data,N=k.isQuotesLoading,j=u&&i&&l&&s,T=t.useSelector((function(e){return e.quotes.bestRoute})),S=n.useState(!1),I=S[0],C=S[1],R=Pe(Te,null==i?void 0:i.chainId,b).data;n.useEffect((function(){var e;if(localStorage){var t=null!==(e=JSON.parse(localStorage.getItem("txData")))&&void 0!==e?e:{};o(ie({prevTxDetails:t}))}}),[]),n.useEffect((function(){c&&C(!1)}),[c]);var A=n.useState(!1),E=A[0],D=A[1];n.useEffect((function(){var e;if(y){var t=null==y?void 0:y[0];if(o(K(t)),null==t?void 0:t.refuel){var n=void 0,l=null===(e=null==t?void 0:t.refuel)||void 0===e?void 0:e.fromAmount;n=(null==i?void 0:i.address)===Te?r.ethers.BigNumber.from(u).add(l).toString():l,r.ethers.BigNumber.from(n).lte(null==R?void 0:R.balance)?D(!0):D(!1)}}else o(K(null))}),[y]);var P=d.useTransition(I,{from:{y:"100%"},enter:{y:"0"},leave:{y:"100%"},config:{duration:200},onReset:function(){return C(!1)}});return e.jsxs(it,{children:[e.jsxs("div",f({className:"skt-w text-widget-secondary mb-3 text-sm flex items-center gap-1"},{children:[u&&"0"!==u&&N?e.jsx(Je,{size:4}):(null==T?void 0:T.refuel)&&!E?e.jsx(a.Info,{className:"w-4 h-4"}):""," ",function(){var e,t,o,n,i,l,s,a,d,u,c,v,f,m,w,p,x,h,g,b,k=null===(t=null===(e=null==T?void 0:T.route)||void 0===e?void 0:e.usedBridgeNames)||void 0===t?void 0:t[0],y=Ee[k]||k;if((null==T?void 0:T.refuel)&&!E){var S=void 0;if((null===(n=null===(o=null==T?void 0:T.path)||void 0===o?void 0:o.fromToken)||void 0===n?void 0:n.address)===Te){var I=null==T?void 0:T.amount,C=null===(i=null==T?void 0:T.refuel)||void 0===i?void 0:i.fromAmount,A=r.ethers.BigNumber.from(I).add(r.ethers.BigNumber.from(C)).toString();S=ze(A,null===(s=null===(l=null==T?void 0:T.refuel)||void 0===l?void 0:l.fromAsset)||void 0===s?void 0:s.decimals,2)}else S=ze(null===(a=null==T?void 0:T.refuel)||void 0===a?void 0:a.fromAmount,null===(u=null===(d=null==T?void 0:T.refuel)||void 0===d?void 0:d.fromAsset)||void 0===u?void 0:u.decimals,2);return"Not enough ".concat(null==R?void 0:R.symbol," for Refuel (").concat(S," required)")}var D=ze(null===(c=null==T?void 0:T.route)||void 0===c?void 0:c.fromAmount,null===(f=null===(v=null==T?void 0:T.path)||void 0===v?void 0:v.fromToken)||void 0===f?void 0:f.decimals),P=ze(null===(m=null==T?void 0:T.route)||void 0===m?void 0:m.toAmount,null===(p=null===(w=null==T?void 0:T.path)||void 0===w?void 0:w.toToken)||void 0===p?void 0:p.decimals),O=Number(P)/Number(D),B="1 ".concat(null===(h=null===(x=null==T?void 0:T.path)||void 0===x?void 0:x.fromToken)||void 0===h?void 0:h.symbol," = ").concat(null==O?void 0:O.toFixed(4)," ").concat(null===(b=null===(g=null==T?void 0:T.path)||void 0===g?void 0:g.toToken)||void 0===b?void 0:b.symbol);return j?N?Ie.FETCHING_QUOTE:T?null!=y?y:B:Ie.NO_ROUTES_AVAILABLE:Ie.ENTER_AMOUNT}()]})),e.jsx(rt,f({onClick:function(){o(te(T)),C(!0)},disabled:!T||N||!g||(null==T?void 0:T.refuel)&&!E},{children:g?Ce.REVIEW_QUOTE:Ce.NOT_ENOUGH_BALANCE})),e.jsxs("div",f({className:"skt-w flex items-center justify-between text-widget-secondary mt-2.5 text-xs"},{children:[e.jsx("a",f({href:"http://socket.tech/",target:"_blank",rel:"noopener noreferrer",className:"skt-w skt-w-anchor"},{children:"Powered by Socket"})),e.jsx("a",f({href:"https://socketdottech.zendesk.com/hc/en-us",target:"_blank",rel:"noopener noreferrer",className:"skt-w skt-w-anchor"},{children:"Support"}))]})),P((function(t,o){return o&&e.jsx(vt,{closeModal:function(){return C(!1)},style:t})}))]})},pt=function(){var o=t.useDispatch(),r=n.useState(!1),i=r[0],l=r[1],s=n.useState("output");s[0];var u=s[1],c=n.useState(!1),v=c[0],m=c[1],w=n.useState(""),p=w[0],x=w[1],h=n.useContext(fe).customization.borderRadius,g=d.useTransition(i,{from:{y:"100%"},enter:{y:"0"},leave:{y:"100%"},config:{duration:200},onReset:function(){return l(!1)}}),b="High Return",k=[{id:"output",label:b},{id:"time",label:"Fastest"},{id:"gas",label:"Low Gas Fee"}];n.useEffect((function(){x(b)}),[]);var y=We((function(){return m(!1)}));return e.jsxs(e.Fragment,{children:[g((function(t,n){return n&&e.jsx(Oe,f({title:"Settings",closeModal:function(){return l(!1)},style:t},{children:e.jsxs("div",f({className:"skt-w px-3 flex items-center mt-2 gap-2"},{children:[e.jsx("p",f({className:"skt-w text-sm text-widget-secondary font-medium my-2 gap-8"},{children:"Preferred Route"})),e.jsxs("div",f({className:"skt-w relative border border-widget-secondary-text border-opacity-10 flex w-auto",style:{borderRadius:"calc(0.5rem * ".concat(h,")")},ref:y},{children:[e.jsxs(xt,f({onClick:function(){return m(!v)},active:!0},{children:[p," ",e.jsx(a.ChevronDown,{className:"skt-w w-4 h-4 text-widget-secondary transition-all ".concat(v?"rotate-180":"")})]})),v&&e.jsx("div",f({className:"skt-w absolute top-10 left-0 w-full border border-widget-secondary-text border-opacity-10 overflow-hidden",style:{borderRadius:"calc(0.5rem * ".concat(h,")")}},{children:k.map((function(t){return e.jsx(xt,f({onClick:function(){return function(e){u(e.id),o(J(e.id)),x(e.label),m(!1)}(t)}},{children:t.label}),t.id)}))}))]}))]}))}))})),e.jsx("button",f({onClick:function(){return l(!0)},className:"skt-w skt-w-button skt-w-input flex"},{children:e.jsx(a.Settings,{className:"skt-w w-5.5 h-5.5 text-widget-secondary hover:text-widget-primary hover:rotate-45 duration-200 ease-linear"})}))]})},xt=function(t){var o=t.children,n=t.onClick,r=t.active,i=void 0!==r&&r;return e.jsx("button",f({className:"skt-w skt-w-input skt-w-button w-32 px-2 py-2 text-widget-secondary text-sm flex items-center justify-between gap-2 ".concat(i?"":"hover:bg-widget-secondary"),onClick:n},{children:o}))},ht=function(t){var o=t.currentTx,n=t.userTxs;return e.jsx("div",f({className:"skt-w flex"},{children:null==n?void 0:n.map((function(t,r){return e.jsx(gt,{active:o===r,lastItem:r===(null==n?void 0:n.length)-1,completed:o>r},r)}))}))},gt=function(t){var o=t.active,n=t.completed,r=t.lastItem;return e.jsxs("div",f({className:"skt-w flex flex-row items-center ".concat(r?"":"flex-grow")},{children:[e.jsx("span",f({className:"skt-w relative w-4 h-4 rounded-full flex justify-center items-center ".concat(n?"bg-widget-accent border-0":""," ").concat(o?"border-2 border-widget-accent":"border border-widget-secondary-text border-opacity-40"," ")},{children:n&&e.jsx(a.Check,{className:"skt-w text-widget-onAccent w-3 h-3"})})),!r&&e.jsx("span",{className:"skt-w h-px flex-grow ".concat(n?"bg-widget-accent":"bg-widget-secondary-text bg-opacity-40")})]}))},bt=function(t){var o,i,l,s,a,d,u,c,v,m,w,p,x,h=t.currentRoute,g=t.explorerParams,b=t.txDetails,k=t.refuelEnabled,y=$e(),N=n.useState(""),j=N[0],T=N[1],S=n.useState(""),I=S[0],C=S[1],R=n.useState(""),A=R[0],E=R[1],D=n.useState(null),P=D[0],O=D[1],B=n.useState(!1),L=B[0],_=B[1],z=n.useState(!1),F=z[0],U=z[1];n.useEffect((function(){var e,t,o,n=Ge(null===(e=null==y?void 0:y[g.srcChainId])||void 0===e?void 0:e.explorers[0],g.srcTxHash,Ue.TRANSACTION),r=Ge(null===(t=null==y?void 0:y[g.destChainId])||void 0===t?void 0:t.explorers[0],g.destTxHash,Ue.TRANSACTION),i=Ge(null===(o=null==y?void 0:y[g.destRefuelTxHash])||void 0===o?void 0:o.explorers[0],g.destRefuelTxHash,Ue.TRANSACTION);T(n),C(r),E(i)}),[y,g]),n.useEffect((function(){var e,t,o,n,i,l,s,a,d,u,c,v=null===(o=null===(t=null===(e=null==h?void 0:h.route)||void 0===e?void 0:e.userTxs)||void 0===t?void 0:t.filter((function(e){return e.userTxType===je.FUND_MOVR})))||void 0===o?void 0:o[0],f=null===(i=null===(n=null==v?void 0:v.steps)||void 0===n?void 0:n.filter((function(e){return"bridge"===e.type})))||void 0===i?void 0:i[0];O(f);var m=b&&Object.values(b),w=null===(s=null===(l=null==m?void 0:m.filter((function(e){return e.userTxType===je.FUND_MOVR})))||void 0===l?void 0:l[0])||void 0===s?void 0:s.timeStamp,p=(new Date).getTime();if(w&&p){var x=r.ethers.BigNumber.from(p).sub(r.ethers.BigNumber.from(w)).div(1e3).toString();Number(x)>2*(null==f?void 0:f.serviceTime)&&_(!0)}var g=(null===(a=null==h?void 0:h.route)||void 0===a?void 0:a.currentUserTxIndex)?(null===(d=null==h?void 0:h.route)||void 0===d?void 0:d.currentUserTxIndex)+1:1;U(g<(null===(c=null===(u=null==h?void 0:h.route)||void 0===u?void 0:u.userTxs)||void 0===c?void 0:c.length))}),[h,b]);var M={amount:null===(o=null==h?void 0:h.refuel)||void 0===o?void 0:o.fromAmount,asset:null===(i=null==h?void 0:h.refuel)||void 0===i?void 0:i.fromAsset},G={amount:null===(l=null==h?void 0:h.refuel)||void 0===l?void 0:l.toAmount,asset:null===(s=null==h?void 0:h.refuel)||void 0===s?void 0:s.toAsset};return e.jsxs("div",f({className:"skt-w absolute bg-widget-primary h-full w-full top-0 left-0 flex flex-col"},{children:[e.jsx(dt,{srcDetails:{token:null===(a=null==h?void 0:h.sourceTokenDetails)||void 0===a?void 0:a.token,amount:null===(d=null==h?void 0:h.sourceTokenDetails)||void 0===d?void 0:d.amount},destDetails:{token:null===(u=null==h?void 0:h.destTokenDetails)||void 0===u?void 0:u.token,amount:null===(c=null==h?void 0:h.destTokenDetails)||void 0===c?void 0:c.amount},srcRefuel:M,destRefuel:G}),e.jsx("div",{className:"skt-w border-b border-widget-secondary"}),(null===(m=null===(v=null==h?void 0:h.route)||void 0===v?void 0:v.userTxs)||void 0===m?void 0:m.length)>1&&e.jsx("div",f({className:"skt-w px-3.5 py-3 mt-2"},{children:e.jsx(ht,{currentTx:(null===(w=null==h?void 0:h.route)||void 0===w?void 0:w.currentUserTxIndex)||0,userTxs:null===(p=null==h?void 0:h.route)||void 0===p?void 0:p.userTxs})})),e.jsxs("div",f({className:"skt-w flex gap-4 flex-col items-center my-auto pb-3"},{children:[e.jsx(Je,{size:10}),e.jsxs("div",{children:[e.jsx("p",f({className:"skt-w text-sm text-widget-primary mb-2 font-medium text-center"},{children:"Bridging in progress"})),e.jsx("p",f({className:"skt-w text-xs font-normal text-widget-secondary mb-3 text-center px-3"},{children:L?e.jsxs("span",{children:["Get in touch for support on"," ",e.jsx("a",f({href:"https://discord.gg/23Gk2Fa9JZ",target:"_blank",rel:"noopener noreferrer",className:"skt-w skt-w-anchor underline"},{children:"Discord"}))]}):e.jsxs("span",{children:["Estimated wait time is"," ",qe(null==P?void 0:P.serviceTime),F&&", please come back later to sign the next transaction."]})}))]}),e.jsxs("div",f({className:"skt-w flex flex-col gap-3.5 items-center"},{children:[e.jsx(yt,{title:"Bridging via ".concat(null===(x=null==P?void 0:P.protocol)||void 0===x?void 0:x.displayName),srcUrl:j,destUrl:I}),!!k&&e.jsx(yt,{title:"Refuel",destUrl:A})]}))]}))]}))},kt=function(t){var o=t.url,r=t.label,i=n.useContext(fe).customization.borderRadius;return e.jsx("span",f({className:"skt-w text-xs bg-widget-primary text-widget-secondary flex items-center gap-1 flex-nowrap px-2 py-1.5",style:{borderRadius:"calc(1rem * ".concat(i,")")}},{children:o&&!o.match("undefined")?e.jsxs("a",f({href:o,target:"_blank",rel:"noopener noreferrer",className:"skt-w skt-w-anchor flex items-center gap-1 hover:underline"},{children:[r," ",e.jsx(a.ExternalLink,{className:"skt-w text-widget-secondary w-3 h-auto"})]})):e.jsxs("span",f({className:"skt-w flex items-center gap-1 h-auto"},{children:[r," ",e.jsx(Je,{size:3})]}))}))},yt=function(t){var o=t.title,n=t.srcUrl,r=t.destUrl;return e.jsxs("div",f({className:"skw-w flex items-center pl-2.5 p-0.5 rounded-full bg-widget-secondary border border-widget-secondary"},{children:[e.jsx("span",f({className:"skt-w text-white text-xs pr-2"},{children:o})),e.jsxs("div",f({className:"skt-w flex items-center gap-0.5"},{children:[!!n&&e.jsx(kt,{label:"Src tx",url:n}),e.jsx(kt,{label:"Dest tx",url:r||null})]}))]}))},Nt=function(){var t=n.useContext(fe).customization.borderRadius,o=d.useSpring({from:{bottom:-100,opacity:0},to:{bottom:12,opacity:1}});return e.jsxs(d.animated.div,f({className:"skt-w bg-widget-accent text-widget-onAccent p-4 flex items-center absolute left-3 right-3",style:f({borderRadius:"calc(0.625rem * ".concat(t,")")},o)},{children:[e.jsx(a.CheckCircle,{className:"skt-w mr-3 text-widget-onAccent"})," Transaction is complete"]}))},jt=function(o){var r,i,l,s,a,d,u,c,v,p,x,h,g,b,k,y,N,j,T=o.style,S=t.useDispatch();var I=t.useSelector((function(e){return e.routes.selectedRoute})),C=t.useSelector((function(e){return e.modals.activeRoute})),R=t.useSelector((function(e){return e.networks.allNetworks})),A=t.useSelector((function(e){return e.txDetails.txDetails})),E=n.useContext(we).web3Provider,D=E.userAddress,P=E.signer,O=(E.provider,E.networkId),B=n.useState(!1),L=B[0],_=B[1],z=n.useState(!1),F=z[0],U=z[1],M=n.useState(!1),G=M[0],H=M[1],V=n.useState(!1),q=V[0],Q=V[1],X=n.useState(!1),W=X[0],Y=X[1],K=n.useState(!1),J=K[0],Z=K[1],$=n.useState(!1),ee=$[0],te=$[1],oe=n.useState(null),ne=oe[0],re=oe[1],le=n.useState(null),se=le[0],ce=le[1],ve=De().mutate,fe=n.useState({srcTxHash:"",srcChainId:null,destChainId:null,destTxHash:"",destRefuelTxHash:""}),me=fe[0],pe=fe[1];function xe(){return m(this,void 0,void 0,(function(){var e,t;return w(this,(function(o){switch(o.label){case 0:_(!0),o.label=1;case 1:return o.trys.push([1,4,,5]),[4,Re.start(I)];case 2:return e=o.sent(),[4,ge(e)];case 3:return o.sent(),[3,5];case 4:return t=o.sent(),S(ue(t.message)),[3,5];case 5:return[2]}}))}))}function he(e,t){var o,n;return m(this,void 0,void 0,(function(){var r,i,l,s,a,d,u;return w(this,(function(c){switch(c.label){case 0:_(!0),r=null!==(o=null==C?void 0:C.activeRouteId)&&void 0!==o?o:t,i=null===(n=null==A?void 0:A[D])||void 0===n?void 0:n[r],l=i&&Object.keys(i),s=null==i?void 0:i[null==l?void 0:l[(null==l?void 0:l.length)-1]],c.label=1;case 1:return c.trys.push([1,4,,5]),[4,Re.continue((null==C?void 0:C.activeRouteId)||t)];case 2:return a=c.sent(),[4,ge(a,e||(null==s?void 0:s.hash),null==s?void 0:s.userTxType)];case 3:return c.sent(),[3,5];case 4:return d=c.sent(),(u=d.message).match("is already complete")?Z(!0):S(ue(u)),_(!1),Y(!1),te(!0),[3,5];case 5:return[2]}}))}))}var ge=function(e,t,o){return m(void 0,void 0,void 0,(function(){var n,r,i,l,s,a,d,u,c,v,f,m,p;return w(this,(function(w){switch(w.label){case 0:W||o!==je.FUND_MOVR||(n=C||(null==I?void 0:I.route),r=null===(c=null===(u=null==n?void 0:n.userTxs)||void 0===u?void 0:u.filter((function(e){return e.userTxType===je.FUND_MOVR})))||void 0===c?void 0:c[0],Y(!0),_(!1),pe({srcTxHash:t,srcChainId:(null==C?void 0:C.fromChainId)||(null===(f=null===(v=null==I?void 0:I.path)||void 0===v?void 0:v.fromToken)||void 0===f?void 0:f.chainId),destChainId:(null==C?void 0:C.toChainId)||(null===(p=null===(m=null==I?void 0:I.path)||void 0===m?void 0:m.toToken)||void 0===p?void 0:p.chainId),destTxHash:null==r?void 0:r.destinationTxHash,destRefuelTxHash:null==r?void 0:r.refuelDestinationHash})),w.label=1;case 1:return w.trys.push([1,8,,9]),t?[4,e.next(t)]:[3,3];case 2:return l=w.sent(),[3,5];case 3:return[4,e.next()];case 4:l=w.sent(),w.label=5;case 5:return i=l,Y(!1),i.done||!i.value?[3,7]:(s=i.value,ce(s),[4,s.getApproveTransaction()]);case 6:a=w.sent(),_(!1),re(a),a&&U(!0),w.label=7;case 7:return i.done&&(_(!1),Z(!0)),[3,9];case 8:return(d=w.sent())&&S(ue(d.message)),Y(!1),_(!1),te(!0),[3,9];case 9:return[2]}}))}))},be=n.useState(null),ke=be[0],ye=be[1];n.useEffect((function(){var e,t,o;C?he():xe();var n={token:(null==C?void 0:C.fromAsset)||(null===(e=null==I?void 0:I.path)||void 0===e?void 0:e.fromToken),amount:(null==C?void 0:C.fromAmount)||(null==I?void 0:I.amount)},r={token:(null==C?void 0:C.toAsset)||(null===(t=null==I?void 0:I.path)||void 0===t?void 0:t.toToken),amount:(null==C?void 0:C.toAmount)||(null===(o=null==I?void 0:I.route)||void 0===o?void 0:o.toAmount)},i={route:C||(null==I?void 0:I.route),sourceTokenDetails:n,destTokenDetails:r,txData:null==C?void 0:C.transactionData,refuel:(null==C?void 0:C.refuel)||(null==I?void 0:I.refuel)};return ye(i),function(){S(de(null))}}),[]);var Ne={amount:C?null===(r=null==C?void 0:C.refuel)||void 0===r?void 0:r.fromAmount:null===(i=null==I?void 0:I.refuel)||void 0===i?void 0:i.fromAmount,asset:C?null===(l=null==C?void 0:C.refuel)||void 0===l?void 0:l.fromAsset:null===(s=null==I?void 0:I.refuel)||void 0===s?void 0:s.fromAsset},Te={amount:C?null===(a=null==C?void 0:C.refuel)||void 0===a?void 0:a.toAmount:null===(d=null==I?void 0:I.refuel)||void 0===d?void 0:d.toAmount,asset:C?null===(u=null==C?void 0:C.refuel)||void 0===u?void 0:u.toAsset:null===(c=null==I?void 0:I.refuel)||void 0===c?void 0:c.toAsset},Ie=n.useState(null),Ee=Ie[0],Pe=Ie[1];return n.useEffect((function(){var t,o,n,r,i,l,s=(null===(o=null===(t=null==ke?void 0:ke.sourceTokenDetails)||void 0===t?void 0:t.token)||void 0===o?void 0:o.chainId)===(null===(r=null===(n=null==ke?void 0:ke.destTokenDetails)||void 0===n?void 0:n.token)||void 0===r?void 0:r.chainId),a=e.jsxs("span",f({className:"flex items-center gap-1"},{children:[s?"Swap":"Bridging"," transaction"," ",e.jsx("span",f({className:"text-xs text-widget-primary text-opacity-70 font-normal"},{children:(null===(i=null==ke?void 0:ke.route)||void 0===i?void 0:i.activeRouteId)?" - #".concat(null===(l=null==ke?void 0:ke.route)||void 0===l?void 0:l.activeRouteId):(null==se?void 0:se.activeRouteId)?" - #".concat(null==se?void 0:se.activeRouteId):""}))]}));Pe(a)}),[ke,se]),e.jsx(Oe,f({title:Ee,closeModal:function(){S(ae(!1))},disableClose:G||q,style:T},{children:e.jsxs("div",f({className:"skt-w flex flex-col flex-1 overflow-hidden justify-between relative"},{children:[e.jsxs("div",f({className:"skt-w flex-1 overflow-y-auto"},{children:[e.jsx(dt,{srcDetails:{token:null===(v=null==ke?void 0:ke.sourceTokenDetails)||void 0===v?void 0:v.token,amount:null===(p=null==ke?void 0:ke.sourceTokenDetails)||void 0===p?void 0:p.amount},destDetails:{token:null===(x=null==ke?void 0:ke.destTokenDetails)||void 0===x?void 0:x.token,amount:null===(h=null==ke?void 0:ke.destTokenDetails)||void 0===h?void 0:h.amount},srcRefuel:Ne,destRefuel:Te}),e.jsx("div",{className:"skt-w border-b border-widget-secondary"}),(null===(b=null===(g=null==ke?void 0:ke.route)||void 0===g?void 0:g.userTxs)||void 0===b?void 0:b.length)>1&&e.jsx("div",f({className:"skt-w px-3.5 py-3 mt-2"},{children:e.jsx(ht,{currentTx:(null==se?void 0:se.userTxIndex)||(null==C?void 0:C.currentUserTxIndex)||0,userTxs:null===(k=null==ke?void 0:ke.route)||void 0===k?void 0:k.userTxs})})),e.jsx("div",f({className:"skt-w px-3 py-3"},{children:e.jsx(lt,{activeRoute:null==ke?void 0:ke.route,refuel:null==ke?void 0:ke.refuel,txData:null==ke?void 0:ke.txData,currentTxIndex:(null==se?void 0:se.userTxIndex)||(null==C?void 0:C.currentUserTxIndex)||0,inProgress:q||W,completed:J})}))]})),e.jsx("div",f({className:"skt-w p-3 shrink-0"},{children:!J&&e.jsx(e.Fragment,{children:ee?e.jsx(rt,f({onClick:function(){C||(null==se?void 0:se.activeRouteId)?he(null,null==se?void 0:se.activeRouteId):xe(),te(!1)}},{children:"Retry"})):se&&O!==(null==se?void 0:se.chainId)?e.jsx(rt,f({onClick:function(){var e,t=null===(e=R.filter((function(e){return e.chainId===(null==se?void 0:se.chainId)})))||void 0===e?void 0:e[0];Me(0,t)},disabled:L},{children:L?Ce.INITIATING:"Switch chain to ".concat(null===(N=null===(y=R.filter((function(e){return e.chainId===(null==se?void 0:se.chainId)})))||void 0===y?void 0:y[0])||void 0===N?void 0:N.name)})):F?e.jsx(rt,f({onClick:function(){return m(this,void 0,void 0,(function(){var e;return w(this,(function(t){switch(t.label){case 0:H(!0),t.label=1;case 1:return t.trys.push([1,4,,5]),[4,P.sendTransaction(ne)];case 2:return[4,t.sent().wait()];case 3:return t.sent(),H(!1),U(!1),[3,5];case 4:return e=t.sent(),S(ue(e.message)),H(!1),[3,5];case 5:return[2]}}))}))},disabled:!F||G,isLoading:G},{children:L?Ce.CHECKING_APPROVAL:G?Ce.APPROVING:F?Ce.APPROVE:Ce.APPROVAL_DONE})):e.jsx(rt,f({onClick:function(){var e,t,o,n,r;return m(this,void 0,void 0,(function(){var i,l,s,a,d,u,c,v,m,p,x;return w(this,(function(w){switch(w.label){case 0:Q(!0),w.label=1;case 1:return w.trys.push([1,12,,13]),[4,se.getSendTransaction()];case 2:return i=w.sent(),[4,P.sendTransaction(i)];case 3:return l=w.sent(),s={hash:l.hash,userTxType:se.userTxType,timeStamp:(new Date).getTime()},a=function(e,t,o,n){var r,i,l,s,a,d=null!==(a=JSON.parse(localStorage.getItem("txData")))&&void 0!==a?a:{};d[e]||(d[e]={});var u=d[e][t];return d[e]=f(f({},d[e]),u?((r={})[t]=f(f({},u),((i={})[o]=n,i)),r):((l={})[t]=((s={})[o]=n,s),l)),localStorage.setItem("txData",JSON.stringify(d)),d}(D,se.activeRouteId,se.userTxIndex,s),d=f(f({},ke),{txData:a[D][se.activeRouteId]}),ye(d),S(ie({prevTxDetails:a})),[4,l.wait()];case 4:w.sent(),Q(!1),se.userTxType===je.FUND_MOVR&&(pe({srcTxHash:l.hash,srcChainId:null===(t=null===(e=null==I?void 0:I.path)||void 0===e?void 0:e.fromToken)||void 0===t?void 0:t.chainId}),Y(!0)),u=void 0,w.label=5;case 5:return w.trys.push([5,7,,8]),[4,se.submit(l.hash)];case 6:return u=w.sent(),[3,8];case 7:return w.sent(),u=Se.PENDING,[3,8];case 8:return u&&u!==Se.COMPLETED?[4,he(se.hash,se.activeRouteId)]:[3,10];case 9:return w.sent(),[3,11];case 10:u===Se.COMPLETED&&(Z(!0),Y(!1),ve()),w.label=11;case 11:return[3,13];case 12:return c=w.sent(),v=(null===(n=null===(o=null==c?void 0:c.data)||void 0===o?void 0:o.message)||void 0===n?void 0:n.toLowerCase())||c.message.toLowerCase(),m=void 0,m=v.match("execution reverted: middleware_action_failed")?"Swap failed due to slippage or low DEX liquidity, please retry or contact support":v.match("insufficient funds")||v.match("transfer amount exceeds balance")?"Insufficient funds":v.match("execution reverted")||v.match("reverted")||v.match("transaction failed")?"Transaction failed, please try again or contact support":"".concat(v," - Please try again or contact support"),p=null===(r=null==ke?void 0:ke.route)||void 0===r?void 0:r.activeRouteId,x=p?" - Route ID: ".concat(p):null,S(ue("".concat(m," ").concat(null!=x?x:""))),Y(!1),Q(!1),te(!0),[3,13];case 13:return[2]}}))}))},disabled:F||q||L||W,isLoading:q},{children:W?Ce.BRIDGE_IN_PROGRESS:L?Ce.INITIATING:q?Ce.IN_PROGRESS:null==Ae?void 0:Ae[null==se?void 0:se.userTxType]}))})})),W&&!L&&e.jsx(bt,{currentRoute:ke,explorerParams:me,txDetails:null===(j=null==A?void 0:A[D])||void 0===j?void 0:j[null==C?void 0:C.activeRouteId],refuelEnabled:!!(null==ke?void 0:ke.refuel)}),J&&e.jsx(Nt,{})]}))}))},Tt=function(){var o=t.useDispatch(),r=n.useState(!1),i=r[0],l=r[1],s=n.useState(null),a=s[0],u=s[1],c=n.useState(0),v=c[0],m=c[1],w=n.useContext(fe).customization.borderRadius,p=d.useTransition(i,{from:{y:"100%"},enter:{y:"0"},leave:{y:"100%"},config:{duration:200},onReset:function(){return l(!1)}}),x=De().data;return n.useEffect((function(){var e,t,o;x&&(m(null===(t=null===(e=null==x?void 0:x.result)||void 0===e?void 0:e.pagination)||void 0===t?void 0:t.totalRecords),u(null===(o=null==x?void 0:x.result)||void 0===o?void 0:o.activeRoutes))}),[x]),v>0?e.jsxs(e.Fragment,{children:[e.jsxs("button",f({className:"skt-w skt-w-button skt-w-input uppercase text-sm px-2 py-0.5 bg-widget-accent shadow-inner bg-opacity-90 text-widget-onAccent",onClick:function(){return l(!0)},style:{borderRadius:"calc(0.75rem * ".concat(w,")")}},{children:[v," pending"]})),p((function(t,n){return n&&e.jsx(Oe,f({title:"Pending Transactions",closeModal:function(){return l(!1)},style:t},{children:e.jsxs("div",f({className:"skt-w flex flex-col justify-start p-1 flex-1 overflow-y-auto"},{children:[null==a?void 0:a.map((function(t){var n,r,i,s,a={amount:null===(n=null==t?void 0:t.refuel)||void 0===n?void 0:n.fromAmount,asset:null===(r=null==t?void 0:t.refuel)||void 0===r?void 0:r.fromAsset},d={amount:null===(i=null==t?void 0:t.refuel)||void 0===i?void 0:i.toAmount,asset:null===(s=null==t?void 0:t.refuel)||void 0===s?void 0:s.toAsset};return e.jsx(dt,{onClick:function(){return function(e){o(de(e)),o(ae(!0)),l(!1)}(t)},srcDetails:{token:null==t?void 0:t.fromAsset,amount:null==t?void 0:t.fromAmount},destDetails:{token:null==t?void 0:t.toAsset,amount:null==t?void 0:t.toAmount},srcRefuel:a,destRefuel:d},null==t?void 0:t.activeRouteId)})),e.jsxs("p",f({className:"skt-w text-widget-secondary text-xs px-3 py-2 text-left"},{children:["Showing ",null==a?void 0:a.length,"/",v," active routes"]}))]}))}))}))]}):null},St=function(){var o=t.useDispatch(),n=t.useSelector((function(e){return e.modals.error}));function r(){o(ue(null))}return n?e.jsx(Oe,f({title:"Error",closeModal:r},{children:e.jsxs("div",f({className:"skt-w flex flex-col flex-1 p-3 items-center justify-between"},{children:[e.jsxs("div",f({className:"skt-w flex flex-col items-center"},{children:[e.jsx(a.AlertCircle,{className:"skt-w text-red-500 w-10 h-10"}),e.jsx("p",f({className:"skt-w text-sm text-widget-secondary mt-4 text-center"},{children:n}))]})),e.jsxs("div",f({className:"skt-w w-full"},{children:[e.jsx("p",f({className:"skt-w text-center mb-3"},{children:e.jsx("a",f({href:"https://socketdottech.zendesk.com/hc/en-us",target:"_blank",rel:"noopener noreferrer",className:"skt-w skt-w-anchor text-sm text-widget-secondary underline hover:text-widget-primary"},{children:"Support"}))})),e.jsx(rt,f({onClick:r,classNames:"bg-red-500 hover:bg-red-600 text-white"},{children:"Dismiss"}))]}))]}))})):null},It=function(t){var o=t.id,n=t.disabled,r=void 0!==n&&n,i=t.isChecked,l=void 0!==i&&i,s=t.setIsChecked,a=t.small,d=void 0!==a&&a;return e.jsxs("label",f({htmlFor:o,className:"skt-w w-11 h-7 rounded-full relative ".concat(r?"cursor-not-allowed":"cursor-pointer"," ").concat(l?"bg-widget-accent":"bg-gray-400"," ").concat(d?"scale-75":"")},{children:[e.jsx("div",{className:"skt-w bg-widget-onAccent bg-opacity-80 h-5 w-5 top-1 absolute rounded-full transition ease-linear duration-200 ".concat(l?"translate-x-5":"translate-x-1")}),e.jsx("input",{type:"checkbox",className:"skt-w skt-w-input w-px h-px opacity-0 ".concat(r?"pointer-events-none":""),id:o,onChange:function(){return s(!l)},checked:l,disabled:r})]}))},Ct=function(t){var o=t.children,r=t.content,i=t.cursor,l=void 0===i?"cursor-pointer":i,s=t.classNames,a=n.useContext(fe).customization.borderRadius,d=n.useState(!1),u=d[0],c=d[1];return e.jsxs("div",{children:[e.jsx("div",f({className:"skt-w absolute left-0 z-50 ".concat(u?"visible":"invisible"," ").concat(null!=s?s:"")},{children:e.jsx("div",f({className:"skt-w text-left bg-black/90 border border-widget-outline text-white text-xs font-normal p-2",style:{borderRadius:"calc(0.4rem * ".concat(a,")")}},{children:r}))})),e.jsx("div",f({onMouseOver:function(){return c(!0)},onMouseOut:function(){return c(!1)},className:"skt-w ".concat(l," flex")},{children:o}))]})},Rt=function(){var o,r=n.useState(!1),i=r[0],l=r[1],s=t.useSelector((function(e){return e.networks.destChainId})),d=t.useSelector((function(e){return e.networks.sourceChainId})),u=$e(),c=t.useDispatch(),v=n.useContext(fe).customization.borderRadius;return n.useEffect((function(){c(Z(i))}),[i]),n.useEffect((function(){1!==s&&s!==d||(l(!1),c(Z(!1)))}),[s]),e.jsxs("div",f({className:"skt-w flex gap-1 bg-widget-secondary py-3 pl-4 pr-3 justify-between mt-6 items-center relative",style:{borderRadius:"calc(0.5rem * ".concat(v,")")}},{children:[e.jsxs("div",{children:[e.jsxs("div",f({className:"skt-w text-sm text-widget-primary font-medium flex items-center"},{children:["Enable Refuel",e.jsx(Ct,f({content:"With Refuel, you can swap native tokens on the source chain for native tokens to transact on the destination chain",classNames:"-top-14",cursor:"cursor-help"},{children:e.jsx(a.HelpCircle,{className:"skt-w ml-1.5 w-4 h-4 opacity-70"})}))]})),e.jsx("p",f({className:"skt-w text-xs text-widget-secondary mt-0.5"},{children:1===s?e.jsx("span",f({className:"skt-w text-red-500"},{children:"Refuel isn't supported on Ethereum"})):s===d?e.jsx("span",f({className:"skt-w text-red-500"},{children:"Refuel isn't supported for same chain swaps"})):"Get Gas for transactions on ".concat(null===(o=null==u?void 0:u[s])||void 0===o?void 0:o.name)}))]}),e.jsx(It,{id:"refuel-checkbox",small:!0,isChecked:i,setIsChecked:l,disabled:1===s||s===d})]}))},At=function(o){var r=o.customize,i=o.title,s=void 0===i?(null==o?void 0:o.enableSameChainSwaps)?"Bridge & Swap":"Bridge":i,u=n.useContext(fe),c=n.useContext(we);!function(){var e=t.useDispatch(),o=n.useState(null),r=o[0],i=o[1];n.useEffect((function(){!function(){m(this,void 0,void 0,(function(){var t;return w(this,(function(o){switch(o.label){case 0:return[4,l.Supported.getAllSupportedChains()];case 1:return t=o.sent(),i(t),e(k(null==t?void 0:t.result)),[2]}}))}))}()}),[])}(),function(e){var o=e.sourceNetworks,r=e.destNetworks,i=e.defaultSourceNetwork,l=e.defaultDestNetwork,s=e.defaultSourceToken,a=e.defaultDestToken,d=e.customize,u=e.enableSameChainSwaps,c=e.includeBridges,v=e.excludeBridges,f=t.useDispatch();n.useEffect((function(){o&&f(S(o)),r&&f(I(r)),i&&f(C(i)),l&&f(R(l)),s&&f(D(s)),a&&f(P(a)),f(O(u)),(null==c?void 0:c.length)>0&&f(B(c)),!c&&(null==v?void 0:v.length)>0&&f(L(v))}),[e]),n.useEffect((function(){(null==d?void 0:d.accent)&&document.documentElement.style.setProperty("--socket-widget-accent-color",He(d.accent)),(null==d?void 0:d.onAccent)&&document.documentElement.style.setProperty("--socket-widget-on-accent-color",He(d.onAccent)),(null==d?void 0:d.primary)&&document.documentElement.style.setProperty("--socket-widget-primary-color",He(d.primary)),(null==d?void 0:d.secondary)&&document.documentElement.style.setProperty("--socket-widget-secondary-color",He(d.secondary)),(null==d?void 0:d.text)&&document.documentElement.style.setProperty("--socket-widget-primary-text-color",He(d.text)),(null==d?void 0:d.secondaryText)&&document.documentElement.style.setProperty("--socket-widget-secondary-text-color",He(d.secondaryText)),(null==d?void 0:d.interactive)&&document.documentElement.style.setProperty("--socket-widget-interactive",He(d.interactive)),(null==d?void 0:d.onInteractive)&&document.documentElement.style.setProperty("--socket-widget-on-interactive",He(d.onInteractive)),(null==d?void 0:d.fontFamily)&&document.documentElement.style.setProperty("--socket-widget-font-family",d.fontFamily)}),[d])}(o),n.useEffect((function(){var e=void 0!==(null==r?void 0:r.borderRadius)?(null==r?void 0:r.borderRadius)>1.2?1.2:null==r?void 0:r.borderRadius:1;u.setCustomization(f(f(f({},u.customization),r),{borderRadius:e})),(null==o?void 0:o.provider)&&function(){m(this,void 0,void 0,(function(){var e,t,n,r;return w(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),console.log("This is props.pvorider",o.provider),[4,o.provider.getSigner()];case 1:return[4,(e=i.sent()).getAddress()];case 2:return t=i.sent(),[4,e.getChainId()];case 3:return n=i.sent(),c.setweb3Provider({userAddress:t,networkId:n,signer:e,provider:o.provider}),[3,5];case 4:return r=i.sent(),console.log("Error",r),[3,5];case 5:return[2]}}))}))}()}),[o]);var v=u.customization,p=v.responsiveWidth,x=v.width,h=v.borderRadius,g=p?"100%":x>360?x:360,b=t.useSelector((function(e){return e.modals.isTxModalOpen})),y=d.useTransition(b,{from:{y:"100%"},enter:{y:"0"},leave:{y:"100%"},delay:300,config:{duration:300}});return e.jsxs("div",f({style:{width:g,borderRadius:"calc(1rem * ".concat(h,")"),minWidth:"360px"},className:"relative p-1 overflow-hidden skt-w skt-w-container bg-widget-primary"},{children:[e.jsxs("div",f({className:"skt-w p-3 pt-2.5 pb-3.5"},{children:[e.jsx(xe,f({title:s},{children:e.jsx("div",f({className:"flex items-center gap-3 skt-w"},{children:(null==o?void 0:o.provider)?e.jsxs(e.Fragment,{children:[e.jsx(Tt,{}),e.jsx(pt,{})]}):e.jsxs("span",f({className:"flex items-center text-sm skt-w text-widget-secondary"},{children:[e.jsx(a.CreditCard,{className:"w-5 h-5 mr-2 skt-w text-widget-primary"})," ","Please connect your wallet"]}))}))})),e.jsx(ot,{customTokenList:o.tokenList}),e.jsx(nt,{customTokenList:o.tokenList}),o.enableRefuel&&e.jsx(Rt,{})]})),e.jsx(wt,{}),y((function(t,o){return o&&e.jsx(jt,{style:t})})),e.jsx(St,{})]}))},Et=function(t){var o=t.children;return e.jsx("div",f({className:"skt-w rounded-2xl bg-gray-100 w-[360px] p-3 h-[360px] text-center text-gray-500"},{children:o}))};exports.Bridge=function(o){var n,r,i=o.API_KEY,s=void 0===i?"645b2c8c-5825-4930-baf3-d9b997fcd88c":i,a=o.singleTxOnly;return s?(n=s,r=void 0!==a&&a,Re=new l.Socket({apiKey:n,defaultQuotePreferences:{singleTxOnly:r}}),s?e.jsx(pe,{children:e.jsx(t.Provider,f({store:ce},{children:e.jsx(me,{children:e.jsx(At,f({},o))})}))}):void 0):e.jsx(Et,{children:"Please pass the API key"})};
